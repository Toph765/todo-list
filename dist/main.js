(()=>{"use strict";const e=(()=>{let e=[];return{addToList:function(t){e.push(t),console.log(e)},TodoList:e}})(),t=(e,t,n)=>({title:e,taskList:t,id:n}),n=(()=>{let n=[],o=e.TodoList;const c=t("General",o,0);n.push(c);let i=0;return{submitProject:function(){document.querySelector("#createProject").addEventListener("click",(e=>{e.preventDefault(),function(){const e=document.querySelector("#projectTitle").value,o=0===n.length?0:n[n.length-1].id+1;if(""!==e){const r=t(e,[],o);console.log(r),function(e){n.push(e),console.log(n)}(r)}}(),1!==n.length&&r.displayProject()}))},grabProjectId:function(e){let t=parseInt(e.target.getAttribute("data-projectId"));return i=t,i},grabCurrentProject:function(){return i},grabProjectList:function(){return n},projectList:n}})(),o=function(){let e=n.projectList[0].taskList,t=e[e.length-1];const o=document.querySelector("#general"),r=document.createElement("div");r.setAttribute("data-taskId",`${t.id}`);const c=document.createElement("div"),i=document.createElement("div"),d=document.createElement("div"),u=document.createElement("div");return c.textContent=`Title: ${t.title}`,i.textContent=`Due Date: ${t.duedate}`,d.textContent=`Description: ${t.description}`,u.textContent=`Priority: ${t.priority}`,r.append(c,i,d,u),o.appendChild(r),o},r={displayProject:function(){let e=n.projectList,t=e[e.length-1];const o=document.querySelector("#Allprojects"),r=document.createElement("div"),c=document.createElement("div"),i=document.createElement("button");return r.classList.add("project"),r.setAttribute("data-projectId",`${t.id}`),i.setAttribute("data-projectId",`${t.id}`),i.setAttribute("id",`project-${t.id}`),c.textContent=`${t.title}`,i.textContent="+",i.addEventListener("click",(e=>{console.log("project id",n.grabProjectId(e));const t=document.querySelector("#main-form");n.grabProjectId(e),t.removeAttribute("hidden"),e.preventDefault()})),r.append(c,i),o.appendChild(r),o}},c=(()=>{function t(){const t=n.grabProjectList();let o=document.getElementById("title").value,r=document.getElementById("description").value,c=document.getElementById("date").value,i=document.getElementById("priority").value,d=function(){let t=e.TodoList;return 0===t.length?0:t[t.length-1].id+1}(),u=n.grabCurrentProject();console.log("project id at create newtask",t);const l=((e,t,n,o,r,c)=>({id:e,title:t,description:n,duedate:o,priority:r,project:c}))(d,o,r,c,i,u);console.log(l),0===u&&(t[0].taskList.push(l),console.log(t));for(let n=1;n<t.length;n++){if(t[n].id!==u)return;e.addToList(l),t[n].taskList.push(l),console.log(t)}}function r(){document.getElementById("title").value="",document.getElementById("description").value="",document.getElementById("date").value="",document.getElementById("priority").value="Low"}return{createNewTask:t,initSubmitBtn:function(){document.querySelector("#submit").addEventListener("click",(e=>{!function(){const e=document.querySelector("#main-form"),n=document.querySelector("#newTask");t(),o(),r(),e.setAttribute("hidden",""),n.removeAttribute("hidden")}(),e.preventDefault()}))},cancelTask:function(){const e=document.querySelector("#cancel"),t=document.querySelector("#main-form"),n=document.querySelector("#newTask");e.addEventListener("click",(e=>{r(),t.setAttribute("hidden",""),n.removeAttribute("hidden"),e.preventDefault()}))},openTaskCreator:function(){const e=document.querySelector("#newTask"),t=document.querySelector("#main-form");e.addEventListener("click",(o=>{n.grabProjectId(o),t.removeAttribute("hidden"),e.setAttribute("hidden",""),o.preventDefault()}))}}})();c.initSubmitBtn(),c.cancelTask(),c.openTaskCreator(),n.submitProject()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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b3VyY2VzIjpbIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvbWFuYWdlTGlzdC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvbWFuYWdlUHJvamVjdC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvVUkuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL21hbmFnZVRhc2suanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEFkZHRvTGlzdCA9ICgoKSA9PiB7XG4gICAgbGV0IFRvZG9MaXN0ID0gW107XG5cbiAgICBmdW5jdGlvbiBhZGRUb0xpc3QodGFzaykge1xuICAgICAgICBUb2RvTGlzdC5wdXNoKHRhc2spO1xuICAgICAgICBjb25zb2xlLmxvZyhUb2RvTGlzdCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgYWRkVG9MaXN0LCBUb2RvTGlzdCB9O1xufSkoKVxuXG5cbmV4cG9ydCB7IEFkZHRvTGlzdCB9IiwiaW1wb3J0IHsgcmVuZGVyUHJvamVjdCB9IGZyb20gXCIuL1VJXCI7XG5pbXBvcnQgeyBBZGR0b0xpc3QgfSBmcm9tIFwiLi9tYW5hZ2VMaXN0XCI7XG5pbXBvcnQgeyBOZXdUYXNrIH0gZnJvbSBcIi4vbWFuYWdlVGFza1wiO1xuXG5jb25zdCBuZXdQcm9qZWN0ID0gKHRpdGxlLCB0YXNrTGlzdCwgaWQpID0+IHtcbiAgICByZXR1cm4geyB0aXRsZSwgdGFza0xpc3QsIGlkIH07XG59XG5cbmNvbnN0IHByb2plY3RzID0gKCgpID0+IHtcblxuICAgIGxldCBwcm9qZWN0TGlzdCA9IFtdO1xuXG4gICAgbGV0IHRhc2tMaXN0ID0gQWRkdG9MaXN0LlRvZG9MaXN0O1xuXG4gICAgY29uc3QgZ2VuZXJhbExpc3QgPSBuZXdQcm9qZWN0KCdHZW5lcmFsJywgdGFza0xpc3QsIDApO1xuICAgIHByb2plY3RMaXN0LnB1c2goZ2VuZXJhbExpc3QpO1xuXG4gICAgbGV0IGN1cnJlbnRQcm9qZWN0ID0gMDtcblxuICAgIGZ1bmN0aW9uIGdyYWJDdXJyZW50UHJvamVjdCgpIHtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRQcm9qZWN0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdyYWJQcm9qZWN0TGlzdCgpIHtcbiAgICAgICAgcmV0dXJuIHByb2plY3RMaXN0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZVByb2plY3QoKSB7XG4gICAgICAgIGNvbnN0IHByb2plY3RUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwcm9qZWN0VGl0bGUnKS52YWx1ZTtcbiAgICAgICAgY29uc3QgcHJvamVjdElkID0gY3JlYXRlUHJvamVjdElkKClcbiAgICAgICAgY29uc3QgcHJvamVjdFRhc2tzID0gW107XG5cbiAgICAgICAgaWYgKHByb2plY3RUaXRsZSA9PT0gJycpIHJldHVyblxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHByb2plY3QgPSBuZXdQcm9qZWN0KHByb2plY3RUaXRsZSwgcHJvamVjdFRhc2tzLCBwcm9qZWN0SWQpO1xuICAgICAgICAgICAgY29uc29sZS5sb2cocHJvamVjdCk7XG4gICAgICAgICAgICBhZGRUb1Byb2plY3RMaXN0KHByb2plY3QpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlUHJvamVjdElkKCkge1xuICAgICAgICBsZXQgaWQ7XG4gICAgICAgIGlmIChwcm9qZWN0TGlzdC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBpZCA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gaWQgPSBwcm9qZWN0TGlzdFtwcm9qZWN0TGlzdC5sZW5ndGggLSAxXS5pZCArIDE7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGRUb1Byb2plY3RMaXN0KHByb2plY3QpIHtcbiAgICAgICAgcHJvamVjdExpc3QucHVzaChwcm9qZWN0KTtcbiAgICAgICAgY29uc29sZS5sb2cocHJvamVjdExpc3QpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHN1Ym1pdFByb2plY3QoKSB7XG4gICAgICAgIGNvbnN0IGNyZWF0ZVByb2plY3RCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY3JlYXRlUHJvamVjdCcpO1xuXG4gICAgICAgIGNyZWF0ZVByb2plY3RCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjcmVhdGVQcm9qZWN0KCk7XG4gICAgICAgICAgICBpZiAocHJvamVjdExpc3QubGVuZ3RoID09PSAxKSByZXR1cm5cbiAgICAgICAgICAgIGVsc2UgcmVuZGVyUHJvamVjdC5kaXNwbGF5UHJvamVjdCgpO1xuICAgICAgICB9KVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdyYWJQcm9qZWN0SWQoZSkge1xuICAgICAgICBsZXQgcHJvamVjdElkID0gcGFyc2VJbnQoZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXByb2plY3RJZCcpKTtcblxuICAgICAgICBjdXJyZW50UHJvamVjdCA9IHByb2plY3RJZDtcblxuICAgICAgICByZXR1cm4gY3VycmVudFByb2plY3Q7XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgc3VibWl0UHJvamVjdCwgZ3JhYlByb2plY3RJZCwgZ3JhYkN1cnJlbnRQcm9qZWN0LCBncmFiUHJvamVjdExpc3QsIHByb2plY3RMaXN0IH1cbn0pKClcblxuZXhwb3J0IHsgcHJvamVjdHMgfVxuXG4iLCJpbXBvcnQgeyBBZGR0b0xpc3QgfSBmcm9tIFwiLi9tYW5hZ2VMaXN0XCI7XG5pbXBvcnQgeyBOZXdUYXNrIH0gZnJvbSBcIi4vbWFuYWdlVGFza1wiOyBcbmltcG9ydCB7IHByb2plY3RzIH0gZnJvbSBcIi4vbWFuYWdlUHJvamVjdFwiO1xuXG5jb25zdCByZW5kZXJUYXNrID0gKCgpID0+IHtcbiAgICBmdW5jdGlvbiBkaXNwbGF5QWxsVGFzaygpIHtcbiAgICAgICAgbGV0IGxpc3QgPSBwcm9qZWN0cy5wcm9qZWN0TGlzdFswXS50YXNrTGlzdDtcbiAgICAgICAgbGV0IGl0ZW1Ub0Rpc3BsYXkgPSBsaXN0W2xpc3QubGVuZ3RoIC0gMV07XG5cbiAgICAgICAgY29uc3QgZ2VuZXJhbExpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZ2VuZXJhbCcpO1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgICAgICBjb250YWluZXIuc2V0QXR0cmlidXRlKCdkYXRhLXRhc2tJZCcsIGAke2l0ZW1Ub0Rpc3BsYXkuaWR9YClcblxuICAgICAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgICAgIGNvbnN0IGR1ZWRhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgY29uc3QgcHJpb3JpdHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgICAgICB0aXRsZS50ZXh0Q29udGVudCA9IGBUaXRsZTogJHtpdGVtVG9EaXNwbGF5LnRpdGxlfWA7XG4gICAgICAgIGR1ZWRhdGUudGV4dENvbnRlbnQgPSBgRHVlIERhdGU6ICR7aXRlbVRvRGlzcGxheS5kdWVkYXRlfWA7XG4gICAgICAgIGRlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gYERlc2NyaXB0aW9uOiAke2l0ZW1Ub0Rpc3BsYXkuZGVzY3JpcHRpb259YDtcbiAgICAgICAgcHJpb3JpdHkudGV4dENvbnRlbnQgPSBgUHJpb3JpdHk6ICR7aXRlbVRvRGlzcGxheS5wcmlvcml0eX1gO1xuXG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmQodGl0bGUsIGR1ZWRhdGUsIGRlc2NyaXB0aW9uLCBwcmlvcml0eSk7XG4gICAgICAgIGdlbmVyYWxMaXN0LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG5cbiAgICAgICAgcmV0dXJuIGdlbmVyYWxMaXN0O1xuICAgIH1cblxuICAgIHJldHVybiB7IGRpc3BsYXlBbGxUYXNrIH1cbn0pKClcblxuY29uc3QgcmVuZGVyUHJvamVjdCA9ICgoKSA9PiB7XG4gICAgZnVuY3Rpb24gZGlzcGxheVByb2plY3QoKSB7XG4gICAgICAgIGxldCBsaXN0ID0gcHJvamVjdHMucHJvamVjdExpc3Q7XG4gICAgICAgIGxldCBwcm9qZWN0ID0gbGlzdFtsaXN0Lmxlbmd0aCAtIDFdO1xuXG4gICAgICAgIGNvbnN0IHByb2plY3REaXNwbGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI0FsbHByb2plY3RzJyk7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgICAgIGNvbnN0IHByb2plY3RUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBjb25zdCBwcm9qZWN0VGFza0J0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuXG4gICAgICAgIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdwcm9qZWN0Jyk7XG4gICAgICAgIGNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvamVjdElkJywgYCR7cHJvamVjdC5pZH1gKTtcbiAgICAgICAgcHJvamVjdFRhc2tCdG4uc2V0QXR0cmlidXRlKCdkYXRhLXByb2plY3RJZCcsIGAke3Byb2plY3QuaWR9YCk7XG4gICAgICAgIHByb2plY3RUYXNrQnRuLnNldEF0dHJpYnV0ZSgnaWQnLCBgcHJvamVjdC0ke3Byb2plY3QuaWR9YCk7XG5cbiAgICAgICAgcHJvamVjdFRpdGxlLnRleHRDb250ZW50ID0gYCR7cHJvamVjdC50aXRsZX1gO1xuICAgICAgICBwcm9qZWN0VGFza0J0bi50ZXh0Q29udGVudCA9ICcrJztcblxuICAgICAgICBwcm9qZWN0VGFza0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygncHJvamVjdCBpZCcsIHByb2plY3RzLmdyYWJQcm9qZWN0SWQoZSkpO1xuICAgICAgICAgICAgY29uc3QgbmV3VGFza0Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWFpbi1mb3JtJyk7XG5cbiAgICAgICAgICAgIHByb2plY3RzLmdyYWJQcm9qZWN0SWQoZSk7XG4gICAgICAgICAgICBuZXdUYXNrRm9ybS5yZW1vdmVBdHRyaWJ1dGUoJ2hpZGRlbicpO1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9KVxuXG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmQocHJvamVjdFRpdGxlLCBwcm9qZWN0VGFza0J0bik7XG4gICAgICAgIHByb2plY3REaXNwbGF5LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG5cbiAgICAgICAgcmV0dXJuIHByb2plY3REaXNwbGF5XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgZGlzcGxheVByb2plY3QgfVxufSkoKVxuXG5leHBvcnQgeyByZW5kZXJUYXNrLCByZW5kZXJQcm9qZWN0IH0iLCJpbXBvcnQgeyBBZGR0b0xpc3QgfSBmcm9tIFwiLi9tYW5hZ2VMaXN0XCI7XG5pbXBvcnQgeyByZW5kZXJUYXNrIH0gZnJvbSBcIi4vVUlcIjtcbmltcG9ydCB7IHByb2plY3RzIH0gZnJvbSBcIi4vbWFuYWdlUHJvamVjdFwiOyAgXG5cblxuY29uc3QgY3JlYXRlVGFzayA9IChpZCwgdGl0bGUsIGRlc2NyaXB0aW9uLCBkdWVkYXRlLCBwcmlvcml0eSwgcHJvamVjdCkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAgIGlkLCB0aXRsZSwgZGVzY3JpcHRpb24sIGR1ZWRhdGUsIHByaW9yaXR5LCBwcm9qZWN0XG4gICAgfVxufVxuXG5jb25zdCBOZXdUYXNrID0gKCgpID0+IHtcblxuICAgIGZ1bmN0aW9uIGNyZWF0ZU5ld1Rhc2soKSB7XG4gICAgICAgIGNvbnN0IHByb2plY3RMaXN0ID0gcHJvamVjdHMuZ3JhYlByb2plY3RMaXN0KCk7XG5cbiAgICAgICAgbGV0IHRpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpdGxlJykudmFsdWU7XG4gICAgICAgIGxldCBkZXNjcmlwdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZXNjcmlwdGlvbicpLnZhbHVlO1xuICAgICAgICBsZXQgZHVlZGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYXRlJykudmFsdWU7XG4gICAgICAgIGxldCBwcmlvcml0eSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcmlvcml0eScpLnZhbHVlO1xuICAgICAgICBsZXQgaWQgPSBjcmVhdGVJZCgpO1xuICAgICAgICBsZXQgcHJvamVjdElkID0gcHJvamVjdHMuZ3JhYkN1cnJlbnRQcm9qZWN0KCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdwcm9qZWN0IGlkIGF0IGNyZWF0ZSBuZXd0YXNrJywgcHJvamVjdExpc3QpXG5cbiAgICAgICAgY29uc3QgdGFzayA9IGNyZWF0ZVRhc2soaWQsIHRpdGxlLCBkZXNjcmlwdGlvbiwgZHVlZGF0ZSwgcHJpb3JpdHksIHByb2plY3RJZCk7XG4gICAgICAgIGNvbnNvbGUubG9nKHRhc2spO1xuXG4gICAgICAgIGlmIChwcm9qZWN0SWQgPT09IDApIHtcbiAgICAgICAgICAgIHByb2plY3RMaXN0WzBdLnRhc2tMaXN0LnB1c2godGFzayk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhwcm9qZWN0TGlzdClcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgcHJvamVjdExpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChwcm9qZWN0TGlzdFtpXS5pZCA9PT0gcHJvamVjdElkKSB7XG4gICAgICAgICAgICAgICAgQWRkdG9MaXN0LmFkZFRvTGlzdCh0YXNrKTtcbiAgICAgICAgICAgICAgICBwcm9qZWN0TGlzdFtpXS50YXNrTGlzdC5wdXNoKHRhc2spO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHByb2plY3RMaXN0KVxuICAgICAgICAgICAgfSBlbHNlIHJldHVybi8qIFxuICAgICAgICAgICAgaWYgKHByb2plY3RMaXN0W2ldLmlkICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgcHJvamVjdExpc3RbMF0udGFza0xpc3QucHVzaCh0YXNrKTtcbiAgICAgICAgICAgICAgICBwcm9qZWN0TGlzdFtpXS50YXNrTGlzdC5wdXNoKHRhc2spXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2dlbmVyYWwgdGFzayBsaXN0JywgcHJvamVjdExpc3QpXG4gICAgICAgICAgICB9ICovXG4gICAgICAgIH1cblxuICAgICAgICAvKiBBZGR0b0xpc3QuYWRkVG9MaXN0KHRhc2spOyAqL1xuICAgICAgICAvKiBwcm9qZWN0TGlzdFswXS50YXNrTGlzdC5wdXNoKHRhc2spOyAqL1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUlkKCkge1xuICAgICAgICBsZXQgbGlzdCA9IEFkZHRvTGlzdC5Ub2RvTGlzdDtcbiAgICAgICAgbGV0IGlkO1xuXG4gICAgICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGlkID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBpZCA9IGxpc3RbbGlzdC5sZW5ndGgtMV0uaWQgKyAxO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgICAgIGxldCB0aXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aXRsZScpO1xuICAgICAgICB0aXRsZS52YWx1ZSA9ICcnO1xuXG4gICAgICAgIGxldCBkZXNjcmlwdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZXNjcmlwdGlvbicpO1xuICAgICAgICBkZXNjcmlwdGlvbi52YWx1ZSA9ICcnO1xuXG4gICAgICAgIGxldCBkdWVkYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RhdGUnKTtcbiAgICAgICAgZHVlZGF0ZS52YWx1ZSA9ICcnO1xuXG4gICAgICAgIGxldCBwcmlvcml0eSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcmlvcml0eScpO1xuICAgICAgICBwcmlvcml0eS52YWx1ZSA9ICdMb3cnO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluaXRTdWJtaXRCdG4oKSB7XG4gICAgICAgIGNvbnN0IHN1Ym1pdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzdWJtaXQnKTtcblxuICAgICAgICBzdWJtaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICAgICAgc3VibWl0VGFzaygpO1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc3VibWl0VGFzaygpIHtcbiAgICAgICAgY29uc3QgbmV3VGFza0Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWFpbi1mb3JtJyk7XG4gICAgICAgIGNvbnN0IG5ld1Rhc2tCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbmV3VGFzaycpO1xuICAgICAgICBcbiAgICAgICAgY3JlYXRlTmV3VGFzaygpO1xuICAgICAgICByZW5kZXJUYXNrLmRpc3BsYXlBbGxUYXNrKCk7XG4gICAgICAgIHJlc2V0KCk7XG4gICAgICAgIG5ld1Rhc2tGb3JtLnNldEF0dHJpYnV0ZSgnaGlkZGVuJywgJycpO1xuICAgICAgICBuZXdUYXNrQnRuLnJlbW92ZUF0dHJpYnV0ZSgnaGlkZGVuJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2FuY2VsVGFzaygpIHtcbiAgICAgICAgY29uc3QgY2FuY2VsQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NhbmNlbCcpO1xuICAgICAgICBjb25zdCBuZXdUYXNrRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtYWluLWZvcm0nKTtcbiAgICAgICAgY29uc3QgbmV3VGFza0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNuZXdUYXNrJyk7XG5cbiAgICAgICAgY2FuY2VsQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgICAgIHJlc2V0KCk7XG4gICAgICAgICAgICBuZXdUYXNrRm9ybS5zZXRBdHRyaWJ1dGUoJ2hpZGRlbicsICcnKTtcbiAgICAgICAgICAgIG5ld1Rhc2tCdG4ucmVtb3ZlQXR0cmlidXRlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvcGVuVGFza0NyZWF0b3IoKSB7XG4gICAgICAgIGNvbnN0IG5ld1Rhc2tCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbmV3VGFzaycpO1xuICAgICAgICBjb25zdCBuZXdUYXNrRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtYWluLWZvcm0nKTtcblxuICAgICAgICBuZXdUYXNrQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgICAgIHByb2plY3RzLmdyYWJQcm9qZWN0SWQoZSk7XG4gICAgICAgICAgICBuZXdUYXNrRm9ybS5yZW1vdmVBdHRyaWJ1dGUoJ2hpZGRlbicpO1xuICAgICAgICAgICAgbmV3VGFza0J0bi5zZXRBdHRyaWJ1dGUoJ2hpZGRlbicsICcnKTtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICByZXR1cm4geyBjcmVhdGVOZXdUYXNrLCBpbml0U3VibWl0QnRuLCBjYW5jZWxUYXNrLCBvcGVuVGFza0NyZWF0b3IgfVxufSkoKTtcblxuZXhwb3J0IHsgTmV3VGFzayB9XG4iLCJpbXBvcnQgeyBOZXdUYXNrIH0gZnJvbSBcIi4vbWFuYWdlVGFzay5qc1wiO1xuaW1wb3J0IHsgcHJvamVjdHMgfSBmcm9tIFwiLi9tYW5hZ2VQcm9qZWN0LmpzXCI7XG5cbk5ld1Rhc2suaW5pdFN1Ym1pdEJ0bigpO1xuTmV3VGFzay5jYW5jZWxUYXNrKCk7XG5OZXdUYXNrLm9wZW5UYXNrQ3JlYXRvcigpO1xuXG5wcm9qZWN0cy5zdWJtaXRQcm9qZWN0KCk7XG4iXSwibmFtZXMiOlsiQWRkdG9MaXN0IiwiVG9kb0xpc3QiLCJhZGRUb0xpc3QiLCJ0YXNrIiwicHVzaCIsImNvbnNvbGUiLCJsb2ciLCJuZXdQcm9qZWN0IiwidGl0bGUiLCJ0YXNrTGlzdCIsImlkIiwicHJvamVjdHMiLCJwcm9qZWN0TGlzdCIsImdlbmVyYWxMaXN0IiwiY3VycmVudFByb2plY3QiLCJzdWJtaXRQcm9qZWN0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInByb2plY3RUaXRsZSIsInZhbHVlIiwicHJvamVjdElkIiwibGVuZ3RoIiwicHJvamVjdCIsImFkZFRvUHJvamVjdExpc3QiLCJjcmVhdGVQcm9qZWN0IiwicmVuZGVyUHJvamVjdCIsImRpc3BsYXlQcm9qZWN0IiwiZ3JhYlByb2plY3RJZCIsInBhcnNlSW50IiwidGFyZ2V0IiwiZ2V0QXR0cmlidXRlIiwiZ3JhYkN1cnJlbnRQcm9qZWN0IiwiZ3JhYlByb2plY3RMaXN0IiwicmVuZGVyVGFzayIsImxpc3QiLCJpdGVtVG9EaXNwbGF5IiwiY29udGFpbmVyIiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImR1ZWRhdGUiLCJkZXNjcmlwdGlvbiIsInByaW9yaXR5IiwidGV4dENvbnRlbnQiLCJhcHBlbmQiLCJhcHBlbmRDaGlsZCIsInByb2plY3REaXNwbGF5IiwicHJvamVjdFRhc2tCdG4iLCJjbGFzc0xpc3QiLCJhZGQiLCJuZXdUYXNrRm9ybSIsInJlbW92ZUF0dHJpYnV0ZSIsIk5ld1Rhc2siLCJjcmVhdGVOZXdUYXNrIiwiZ2V0RWxlbWVudEJ5SWQiLCJjcmVhdGVJZCIsImNyZWF0ZVRhc2siLCJpIiwicmVzZXQiLCJpbml0U3VibWl0QnRuIiwibmV3VGFza0J0biIsInN1Ym1pdFRhc2siLCJjYW5jZWxUYXNrIiwiY2FuY2VsQnRuIiwib3BlblRhc2tDcmVhdG9yIl0sInNvdXJjZVJvb3QiOiIifQ==