(()=>{"use strict";const e=(()=>{let e=[];return{addToList:function(t){e.push(t),console.log(e)},TodoList:e}})(),t=(e,t,n)=>({title:e,taskList:t,id:n}),n=(()=>{let n=[],o=e.TodoList;const c=t("General",o,0);n.push(c);let i=0;return{submitProject:function(){document.querySelector("#createProject").addEventListener("click",(e=>{e.preventDefault(),function(){const e=document.querySelector("#projectTitle").value,o=0===n.length?0:n[n.length-1].id+1;if(""!==e){const r=t(e,[],o);console.log(r),function(e){n.push(e),console.log(n)}(r)}}(),1!==n.length&&r.displayProject()}))},grabProjectId:function(e){let t=e.target.getAttribute("data-projectId");return i=t,i},grabCurrentProject:function(){return i},projectList:n}})(),o=function(){let e=n.projectList[0].taskList,t=e[e.length-1];const o=document.querySelector("#general"),r=document.createElement("div");r.setAttribute("data-taskId",`${t.id}`);const c=document.createElement("div"),i=document.createElement("div"),d=document.createElement("div"),u=document.createElement("div");return c.textContent=`Title: ${t.title}`,i.textContent=`Due Date: ${t.duedate}`,d.textContent=`Description: ${t.description}`,u.textContent=`Priority: ${t.priority}`,r.append(c,i,d,u),o.appendChild(r),o},r={displayProject:function(){let e=n.projectList,t=e[e.length-1];const o=document.querySelector("#Allprojects"),r=document.createElement("div"),c=document.createElement("div"),i=document.createElement("button");return r.classList.add("project"),r.setAttribute("data-projectId",`${t.id}`),i.setAttribute("data-projectId",`${t.id}`),i.setAttribute("id",`project-${t.id}`),c.textContent=`${t.title}`,i.textContent="+",i.addEventListener("click",(e=>{console.log(n.grabProjectId(e))})),r.append(c,i),o.appendChild(r),o}},c=(()=>{function t(){let t=document.getElementById("title").value,o=document.getElementById("description").value,r=document.getElementById("date").value,c=document.getElementById("priority").value;const i=((e,t,n,o,r,c)=>({id:e,title:t,description:n,duedate:o,priority:r,project:c}))(function(){let t=e.TodoList;return 0===t.length?0:t[t.length-1].id+1}(),t,o,r,c,n.grabCurrentProject());console.log(i),e.addToList(i)}function r(){document.getElementById("title").value="",document.getElementById("description").value="",document.getElementById("date").value="",document.getElementById("priority").value="Low"}return{createNewTask:t,initSubmitBtn:function(){document.querySelector("#submit").addEventListener("click",(e=>{!function(){const e=document.querySelector("#main-form"),n=document.querySelector("#newTask");t(),o(),r(),e.setAttribute("hidden",""),n.removeAttribute("hidden")}(),e.preventDefault()}))},cancelTask:function(){const e=document.querySelector("#cancel"),t=document.querySelector("#main-form"),n=document.querySelector("#newTask");e.addEventListener("click",(e=>{r(),t.setAttribute("hidden",""),n.removeAttribute("hidden"),e.preventDefault()}))},openTaskCreator:function(){const e=document.querySelector("#newTask"),t=document.querySelector("#main-form");e.addEventListener("click",(o=>{n.grabProjectId(o),console.log(n.grabCurrentProject()),t.removeAttribute("hidden"),e.setAttribute("hidden",""),o.preventDefault()}))}}})();c.initSubmitBtn(),c.cancelTask(),c.openTaskCreator(),n.submitProject()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Z0JBQWdCLEdBRTFCLEVBdUN1Q3lDLFdBMUJ2QyxXQUNJLE1BQU1DLEVBQVk5QyxTQUFTQyxjQUFjLFdBQ25Dd0MsRUFBY3pDLFNBQVNDLGNBQWMsY0FDckN5QyxFQUFhMUMsU0FBU0MsY0FBYyxZQUUxQzZDLEVBQVU1QyxpQkFBaUIsU0FBVUMsSUFDakNvQyxJQUNBRSxFQUFZbEIsYUFBYSxTQUFVLElBQ25DbUIsRUFBV0MsZ0JBQWdCLFVBQzNCeEMsRUFBRUMsZ0JBQWdCLEdBRTFCLEVBZW1EMkMsZ0JBYm5ELFdBQ0ksTUFBTUwsRUFBYTFDLFNBQVNDLGNBQWMsWUFDcEN3QyxFQUFjekMsU0FBU0MsY0FBYyxjQUUzQ3lDLEVBQVd4QyxpQkFBaUIsU0FBVUMsSUFDbENSLEVBQVNtQixjQUFjWCxHQUN2QmQsUUFBUUMsSUFBSUssRUFBU3NCLHNCQUNyQndCLEVBQVlFLGdCQUFnQixVQUM1QkQsRUFBV25CLGFBQWEsU0FBVSxJQUNsQ3BCLEVBQUVDLGdCQUFnQixHQUUxQixFQUdILEVBeEZlLEdDUmhCOEIsRUFBUU0sZ0JBQ1JOLEVBQVFXLGFBQ1JYLEVBQVFhLGtCQUVScEQsRUFBU0ksZSIsInNvdXJjZXMiOlsid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9tYW5hZ2VMaXN0LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9tYW5hZ2VQcm9qZWN0LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9VSS5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvbWFuYWdlVGFzay5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgQWRkdG9MaXN0ID0gKCgpID0+IHtcbiAgICBsZXQgVG9kb0xpc3QgPSBbXTtcblxuICAgIGZ1bmN0aW9uIGFkZFRvTGlzdCh0YXNrKSB7XG4gICAgICAgIFRvZG9MaXN0LnB1c2godGFzayk7XG4gICAgICAgIGNvbnNvbGUubG9nKFRvZG9MaXN0KTtcbiAgICB9XG5cbiAgICByZXR1cm4geyBhZGRUb0xpc3QsIFRvZG9MaXN0IH07XG59KSgpXG5cblxuZXhwb3J0IHsgQWRkdG9MaXN0IH0iLCJpbXBvcnQgeyByZW5kZXJQcm9qZWN0IH0gZnJvbSBcIi4vVUlcIjtcbmltcG9ydCB7IEFkZHRvTGlzdCB9IGZyb20gXCIuL21hbmFnZUxpc3RcIjtcbmltcG9ydCB7IE5ld1Rhc2sgfSBmcm9tIFwiLi9tYW5hZ2VUYXNrXCI7XG5cbmNvbnN0IG5ld1Byb2plY3QgPSAodGl0bGUsIHRhc2tMaXN0LCBpZCkgPT4ge1xuICAgIHJldHVybiB7IHRpdGxlLCB0YXNrTGlzdCwgaWQgfTtcbn1cblxuY29uc3QgcHJvamVjdHMgPSAoKCkgPT4ge1xuXG4gICAgbGV0IHByb2plY3RMaXN0ID0gW107XG4gICAgXG4gICAgbGV0IHRhc2tMaXN0ID0gQWRkdG9MaXN0LlRvZG9MaXN0O1xuXG4gICAgY29uc3QgZ2VuZXJhbExpc3QgPSBuZXdQcm9qZWN0KCdHZW5lcmFsJywgdGFza0xpc3QsIDApO1xuICAgIHByb2plY3RMaXN0LnB1c2goZ2VuZXJhbExpc3QpO1xuXG4gICAgbGV0IGN1cnJlbnRQcm9qZWN0ID0gMDtcblxuICAgIGZ1bmN0aW9uIGdyYWJDdXJyZW50UHJvamVjdCgpIHtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRQcm9qZWN0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZVByb2plY3QoKSB7XG4gICAgICAgIGNvbnN0IHByb2plY3RUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwcm9qZWN0VGl0bGUnKS52YWx1ZTtcbiAgICAgICAgY29uc3QgcHJvamVjdElkID0gY3JlYXRlUHJvamVjdElkKClcbiAgICAgICAgY29uc3QgcHJvamVjdFRhc2tzID0gW107XG5cbiAgICAgICAgaWYgKHByb2plY3RUaXRsZSA9PT0gJycpIHJldHVyblxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHByb2plY3QgPSBuZXdQcm9qZWN0KHByb2plY3RUaXRsZSwgcHJvamVjdFRhc2tzLCBwcm9qZWN0SWQpO1xuICAgICAgICAgICAgY29uc29sZS5sb2cocHJvamVjdCk7XG4gICAgICAgICAgICBhZGRUb1Byb2plY3RMaXN0KHByb2plY3QpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlUHJvamVjdElkKCkge1xuICAgICAgICBsZXQgaWQ7XG4gICAgICAgIGlmIChwcm9qZWN0TGlzdC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBpZCA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gaWQgPSBwcm9qZWN0TGlzdFtwcm9qZWN0TGlzdC5sZW5ndGggLSAxXS5pZCArIDE7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGRUb1Byb2plY3RMaXN0KHByb2plY3QpIHtcbiAgICAgICAgcHJvamVjdExpc3QucHVzaChwcm9qZWN0KTtcbiAgICAgICAgY29uc29sZS5sb2cocHJvamVjdExpc3QpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHN1Ym1pdFByb2plY3QoKSB7XG4gICAgICAgIGNvbnN0IGNyZWF0ZVByb2plY3RCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY3JlYXRlUHJvamVjdCcpO1xuXG4gICAgICAgIGNyZWF0ZVByb2plY3RCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjcmVhdGVQcm9qZWN0KCk7XG4gICAgICAgICAgICBpZiAocHJvamVjdExpc3QubGVuZ3RoID09PSAxKSByZXR1cm5cbiAgICAgICAgICAgIGVsc2UgcmVuZGVyUHJvamVjdC5kaXNwbGF5UHJvamVjdCgpO1xuICAgICAgICB9KVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdyYWJQcm9qZWN0SWQoZSkge1xuICAgICAgICBsZXQgcHJvamVjdElkID0gIGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1wcm9qZWN0SWQnKTtcblxuICAgICAgICBjdXJyZW50UHJvamVjdCA9IHByb2plY3RJZDtcblxuICAgICAgICByZXR1cm4gY3VycmVudFByb2plY3Q7XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgc3VibWl0UHJvamVjdCwgZ3JhYlByb2plY3RJZCwgZ3JhYkN1cnJlbnRQcm9qZWN0LCBwcm9qZWN0TGlzdCB9XG59KSgpXG5cbmV4cG9ydCB7IHByb2plY3RzIH1cblxuIiwiaW1wb3J0IHsgQWRkdG9MaXN0IH0gZnJvbSBcIi4vbWFuYWdlTGlzdFwiO1xuaW1wb3J0IHsgTmV3VGFzayB9IGZyb20gXCIuL21hbmFnZVRhc2tcIjsgXG5pbXBvcnQgeyBwcm9qZWN0cyB9IGZyb20gXCIuL21hbmFnZVByb2plY3RcIjtcblxuY29uc3QgcmVuZGVyVGFzayA9ICgoKSA9PiB7XG4gICAgZnVuY3Rpb24gZGlzcGxheUFsbFRhc2soKSB7XG4gICAgICAgIGxldCBsaXN0ID0gcHJvamVjdHMucHJvamVjdExpc3RbMF0udGFza0xpc3Q7XG4gICAgICAgIGxldCBpdGVtVG9EaXNwbGF5ID0gbGlzdFtsaXN0Lmxlbmd0aCAtIDFdO1xuXG4gICAgICAgIGNvbnN0IGdlbmVyYWxMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2dlbmVyYWwnKTtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICAgICAgY29udGFpbmVyLnNldEF0dHJpYnV0ZSgnZGF0YS10YXNrSWQnLCBgJHtpdGVtVG9EaXNwbGF5LmlkfWApXG5cbiAgICAgICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgICBjb25zdCBkdWVkYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGNvbnN0IHByaW9yaXR5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICAgICAgdGl0bGUudGV4dENvbnRlbnQgPSBgVGl0bGU6ICR7aXRlbVRvRGlzcGxheS50aXRsZX1gO1xuICAgICAgICBkdWVkYXRlLnRleHRDb250ZW50ID0gYER1ZSBEYXRlOiAke2l0ZW1Ub0Rpc3BsYXkuZHVlZGF0ZX1gO1xuICAgICAgICBkZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IGBEZXNjcmlwdGlvbjogJHtpdGVtVG9EaXNwbGF5LmRlc2NyaXB0aW9ufWA7XG4gICAgICAgIHByaW9yaXR5LnRleHRDb250ZW50ID0gYFByaW9yaXR5OiAke2l0ZW1Ub0Rpc3BsYXkucHJpb3JpdHl9YDtcblxuICAgICAgICBjb250YWluZXIuYXBwZW5kKHRpdGxlLCBkdWVkYXRlLCBkZXNjcmlwdGlvbiwgcHJpb3JpdHkpO1xuICAgICAgICBnZW5lcmFsTGlzdC5hcHBlbmRDaGlsZChjb250YWluZXIpO1xuXG4gICAgICAgIHJldHVybiBnZW5lcmFsTGlzdDtcbiAgICB9XG5cbiAgICByZXR1cm4geyBkaXNwbGF5QWxsVGFzayB9XG59KSgpXG5cbmNvbnN0IHJlbmRlclByb2plY3QgPSAoKCkgPT4ge1xuICAgIGZ1bmN0aW9uIGRpc3BsYXlQcm9qZWN0KCkge1xuICAgICAgICBsZXQgbGlzdCA9IHByb2plY3RzLnByb2plY3RMaXN0O1xuICAgICAgICBsZXQgcHJvamVjdCA9IGxpc3RbbGlzdC5sZW5ndGggLSAxXTtcblxuICAgICAgICBjb25zdCBwcm9qZWN0RGlzcGxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNBbGxwcm9qZWN0cycpO1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgICAgICBjb25zdCBwcm9qZWN0VGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgY29uc3QgcHJvamVjdFRhc2tCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcblxuICAgICAgICBjb250YWluZXIuY2xhc3NMaXN0LmFkZCgncHJvamVjdCcpO1xuICAgICAgICBjb250YWluZXIuc2V0QXR0cmlidXRlKCdkYXRhLXByb2plY3RJZCcsIGAke3Byb2plY3QuaWR9YCk7XG4gICAgICAgIHByb2plY3RUYXNrQnRuLnNldEF0dHJpYnV0ZSgnZGF0YS1wcm9qZWN0SWQnLCBgJHtwcm9qZWN0LmlkfWApO1xuICAgICAgICBwcm9qZWN0VGFza0J0bi5zZXRBdHRyaWJ1dGUoJ2lkJywgYHByb2plY3QtJHtwcm9qZWN0LmlkfWApO1xuXG4gICAgICAgIHByb2plY3RUaXRsZS50ZXh0Q29udGVudCA9IGAke3Byb2plY3QudGl0bGV9YDtcbiAgICAgICAgcHJvamVjdFRhc2tCdG4udGV4dENvbnRlbnQgPSAnKyc7XG5cbiAgICAgICAgcHJvamVjdFRhc2tCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2cocHJvamVjdHMuZ3JhYlByb2plY3RJZChlKSk7XG4gICAgICAgIH0pXG5cbiAgICAgICAgY29udGFpbmVyLmFwcGVuZChwcm9qZWN0VGl0bGUsIHByb2plY3RUYXNrQnRuKTtcbiAgICAgICAgcHJvamVjdERpc3BsYXkuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcblxuICAgICAgICByZXR1cm4gcHJvamVjdERpc3BsYXlcbiAgICB9XG5cbiAgICByZXR1cm4geyBkaXNwbGF5UHJvamVjdCB9XG59KSgpXG5cbmV4cG9ydCB7IHJlbmRlclRhc2ssIHJlbmRlclByb2plY3QgfSIsImltcG9ydCB7IEFkZHRvTGlzdCB9IGZyb20gXCIuL21hbmFnZUxpc3RcIjtcbmltcG9ydCB7IHJlbmRlclRhc2sgfSBmcm9tIFwiLi9VSVwiO1xuaW1wb3J0IHsgcHJvamVjdHMgfSBmcm9tIFwiLi9tYW5hZ2VQcm9qZWN0XCI7ICBcblxuXG5jb25zdCBjcmVhdGVUYXNrID0gKGlkLCB0aXRsZSwgZGVzY3JpcHRpb24sIGR1ZWRhdGUsIHByaW9yaXR5LCBwcm9qZWN0KSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaWQsIHRpdGxlLCBkZXNjcmlwdGlvbiwgZHVlZGF0ZSwgcHJpb3JpdHksIHByb2plY3RcbiAgICB9XG59XG5cbmNvbnN0IE5ld1Rhc2sgPSAoKCkgPT4ge1xuXG4gICAgZnVuY3Rpb24gY3JlYXRlTmV3VGFzaygpIHtcbiAgICAgICAgbGV0IHRpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpdGxlJykudmFsdWU7XG4gICAgICAgIGxldCBkZXNjcmlwdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZXNjcmlwdGlvbicpLnZhbHVlO1xuICAgICAgICBsZXQgZHVlZGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYXRlJykudmFsdWU7XG4gICAgICAgIGxldCBwcmlvcml0eSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcmlvcml0eScpLnZhbHVlO1xuICAgICAgICBsZXQgaWQgPSBjcmVhdGVJZCgpO1xuICAgICAgICBsZXQgcHJvamVjdCA9IHByb2plY3RzLmdyYWJDdXJyZW50UHJvamVjdCgpO1xuXG4gICAgICAgIGNvbnN0IHRhc2sgPSBjcmVhdGVUYXNrKGlkLCB0aXRsZSwgZGVzY3JpcHRpb24sIGR1ZWRhdGUsIHByaW9yaXR5LCBwcm9qZWN0KTtcbiAgICAgICAgY29uc29sZS5sb2codGFzayk7XG5cbiAgICAgICAgQWRkdG9MaXN0LmFkZFRvTGlzdCh0YXNrKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVJZCgpIHtcbiAgICAgICAgbGV0IGxpc3QgPSBBZGR0b0xpc3QuVG9kb0xpc3Q7XG4gICAgICAgIGxldCBpZDtcblxuICAgICAgICBpZiAobGlzdC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBpZCA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gaWQgPSBsaXN0W2xpc3QubGVuZ3RoLTFdLmlkICsgMTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgICAgICBsZXQgdGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGl0bGUnKTtcbiAgICAgICAgdGl0bGUudmFsdWUgPSAnJztcblxuICAgICAgICBsZXQgZGVzY3JpcHRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVzY3JpcHRpb24nKTtcbiAgICAgICAgZGVzY3JpcHRpb24udmFsdWUgPSAnJztcblxuICAgICAgICBsZXQgZHVlZGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYXRlJyk7XG4gICAgICAgIGR1ZWRhdGUudmFsdWUgPSAnJztcblxuICAgICAgICBsZXQgcHJpb3JpdHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJpb3JpdHknKTtcbiAgICAgICAgcHJpb3JpdHkudmFsdWUgPSAnTG93JztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbml0U3VibWl0QnRuKCkge1xuICAgICAgICBjb25zdCBzdWJtaXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc3VibWl0Jyk7XG5cbiAgICAgICAgc3VibWl0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgICAgIHN1Ym1pdFRhc2soKTtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHN1Ym1pdFRhc2soKSB7XG4gICAgICAgIGNvbnN0IG5ld1Rhc2tGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21haW4tZm9ybScpO1xuICAgICAgICBjb25zdCBuZXdUYXNrQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI25ld1Rhc2snKTtcbiAgICAgICAgXG4gICAgICAgIGNyZWF0ZU5ld1Rhc2soKTtcbiAgICAgICAgcmVuZGVyVGFzay5kaXNwbGF5QWxsVGFzaygpO1xuICAgICAgICByZXNldCgpO1xuICAgICAgICBuZXdUYXNrRm9ybS5zZXRBdHRyaWJ1dGUoJ2hpZGRlbicsICcnKTtcbiAgICAgICAgbmV3VGFza0J0bi5yZW1vdmVBdHRyaWJ1dGUoJ2hpZGRlbicpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNhbmNlbFRhc2soKSB7XG4gICAgICAgIGNvbnN0IGNhbmNlbEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjYW5jZWwnKTtcbiAgICAgICAgY29uc3QgbmV3VGFza0Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWFpbi1mb3JtJyk7XG4gICAgICAgIGNvbnN0IG5ld1Rhc2tCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbmV3VGFzaycpO1xuXG4gICAgICAgIGNhbmNlbEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgICAgICByZXNldCgpO1xuICAgICAgICAgICAgbmV3VGFza0Zvcm0uc2V0QXR0cmlidXRlKCdoaWRkZW4nLCAnJyk7XG4gICAgICAgICAgICBuZXdUYXNrQnRuLnJlbW92ZUF0dHJpYnV0ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb3BlblRhc2tDcmVhdG9yKCkge1xuICAgICAgICBjb25zdCBuZXdUYXNrQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI25ld1Rhc2snKTtcbiAgICAgICAgY29uc3QgbmV3VGFza0Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWFpbi1mb3JtJyk7XG5cbiAgICAgICAgbmV3VGFza0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgICAgICBwcm9qZWN0cy5ncmFiUHJvamVjdElkKGUpO1xuICAgICAgICAgICAgY29uc29sZS5sb2cocHJvamVjdHMuZ3JhYkN1cnJlbnRQcm9qZWN0KCkpO1xuICAgICAgICAgICAgbmV3VGFza0Zvcm0ucmVtb3ZlQXR0cmlidXRlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIG5ld1Rhc2tCdG4uc2V0QXR0cmlidXRlKCdoaWRkZW4nLCAnJyk7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgcmV0dXJuIHsgY3JlYXRlTmV3VGFzaywgaW5pdFN1Ym1pdEJ0biwgY2FuY2VsVGFzaywgb3BlblRhc2tDcmVhdG9yIH1cbn0pKCk7XG5cbmV4cG9ydCB7IE5ld1Rhc2sgfVxuIiwiaW1wb3J0IHsgTmV3VGFzayB9IGZyb20gXCIuL21hbmFnZVRhc2suanNcIjtcbmltcG9ydCB7IHByb2plY3RzIH0gZnJvbSBcIi4vbWFuYWdlUHJvamVjdC5qc1wiO1xuXG5OZXdUYXNrLmluaXRTdWJtaXRCdG4oKTtcbk5ld1Rhc2suY2FuY2VsVGFzaygpO1xuTmV3VGFzay5vcGVuVGFza0NyZWF0b3IoKTtcblxucHJvamVjdHMuc3VibWl0UHJvamVjdCgpO1xuIl0sIm5hbWVzIjpbIkFkZHRvTGlzdCIsIlRvZG9MaXN0IiwiYWRkVG9MaXN0IiwidGFzayIsInB1c2giLCJjb25zb2xlIiwibG9nIiwibmV3UHJvamVjdCIsInRpdGxlIiwidGFza0xpc3QiLCJpZCIsInByb2plY3RzIiwicHJvamVjdExpc3QiLCJnZW5lcmFsTGlzdCIsImN1cnJlbnRQcm9qZWN0Iiwic3VibWl0UHJvamVjdCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwicHJldmVudERlZmF1bHQiLCJwcm9qZWN0VGl0bGUiLCJ2YWx1ZSIsInByb2plY3RJZCIsImxlbmd0aCIsInByb2plY3QiLCJhZGRUb1Byb2plY3RMaXN0IiwiY3JlYXRlUHJvamVjdCIsInJlbmRlclByb2plY3QiLCJkaXNwbGF5UHJvamVjdCIsImdyYWJQcm9qZWN0SWQiLCJ0YXJnZXQiLCJnZXRBdHRyaWJ1dGUiLCJncmFiQ3VycmVudFByb2plY3QiLCJyZW5kZXJUYXNrIiwibGlzdCIsIml0ZW1Ub0Rpc3BsYXkiLCJjb250YWluZXIiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwiZHVlZGF0ZSIsImRlc2NyaXB0aW9uIiwicHJpb3JpdHkiLCJ0ZXh0Q29udGVudCIsImFwcGVuZCIsImFwcGVuZENoaWxkIiwicHJvamVjdERpc3BsYXkiLCJwcm9qZWN0VGFza0J0biIsImNsYXNzTGlzdCIsImFkZCIsIk5ld1Rhc2siLCJjcmVhdGVOZXdUYXNrIiwiZ2V0RWxlbWVudEJ5SWQiLCJjcmVhdGVUYXNrIiwiY3JlYXRlSWQiLCJyZXNldCIsImluaXRTdWJtaXRCdG4iLCJuZXdUYXNrRm9ybSIsIm5ld1Rhc2tCdG4iLCJyZW1vdmVBdHRyaWJ1dGUiLCJzdWJtaXRUYXNrIiwiY2FuY2VsVGFzayIsImNhbmNlbEJ0biIsIm9wZW5UYXNrQ3JlYXRvciJdLCJzb3VyY2VSb290IjoiIn0=