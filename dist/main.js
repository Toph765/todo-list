(()=>{"use strict";const e=(()=>{let e=[];return{addToList:function(t){e.push(t),console.log(e)},TodoList:e,removeTask:function(t){return e=e.filter((e=>t!==e.id))}}})(),t=function(){const e=r.grabProjectList();var t;localStorage.setItem("project",(t=e,JSON.stringify(t))),console.log(JSON.parse(localStorage.getItem("project")))},o=function(){const t=JSON.parse(localStorage.getItem("project"));t[0].taskList.forEach((t=>{e.addToList(t),m.updateDisplay(t.project)})),t.filter((e=>0!==e.id)).forEach((e=>{r.addToProjectList(e),p.displayProject(e)}))},n=(e,t,o)=>({title:e,taskList:t,id:o}),r=(()=>{let o,r=[],c=e.TodoList;const i=n("General",c,0);r.push(i);let l=0;function a(e){r.push(e),console.log(r)}return{submitProject:function(){document.querySelector("#createProject").addEventListener("click",(e=>{if(e.preventDefault(),function(){o=document.querySelector("#projectTitle").value;const e=0===r.length?0:r[r.length-1].id+1;if(""!==o){const r=n(o,[],e);console.log(r),a(r),t()}}(),""!==o){let e=r[r.length-1];p.displayProject(e),document.querySelector("#projectTitle").value="",o=""}}))},grabProjectId:function(e){let t=parseInt(e.target.getAttribute("data-projectId"));return l=t,l},grabCurrentProject:function(){return l},grabProjectList:function(){return r},projectList:r,updateGeneralList:function(e){return i.taskList=e,console.log(i.taskList),i},updateProject:function(e){let t=i.taskList.filter((t=>t.project===e));return console.log(t),0!==e?r.filter((t=>t.id===e))[0].taskList=t:void 0},grabCurrentProjectTasks:function(e){return console.log(r.filter((t=>t.id===e))[0].taskList),r.filter((t=>t.id===e))[0].taskList},removeProject:function(e){return console.log("before",r),r=r.filter((t=>t.id!==e)),console.log("after",r),r},addToProjectList:a}})();function c(e){const t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new e.constructor(+e):"number"==typeof e||"[object Number]"===t||"string"==typeof e||"[object String]"===t?new Date(e):new Date(NaN)}function i(e){const t=c(e);return t.setHours(0,0,0,0),t}function l(e){return t=e,o=Date.now(),+i(t)==+i(o);var t,o}let a={};function s(){return a}function d(e,t){const o=s(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??o.weekStartsOn??o.locale?.options?.weekStartsOn??0,r=c(e),i=r.getDay(),l=(i<n?7:0)+i-n;return r.setDate(r.getDate()-l),r.setHours(0,0,0,0),r}function u(e,t){return function(e,t,o){return+d(e,o)==+d(t,o)}(e,Date.now(),t)}const m=(()=>{function o(o,n){const c=document.createElement("div");c.setAttribute("data-taskId",`${o.id}`),c.classList.add("task");const l=document.createElement("div"),a=document.createElement("div"),s=document.createElement("div"),d=document.createElement("div"),u=document.createElement("button");return l.textContent=`Title: ${o.title}`,a.textContent=`Due Date: ${o.duedate}`,s.textContent=`Description: ${o.description}`,d.textContent=`Priority: ${o.priority}`,u.textContent="delete",u.setAttribute("data-taskId",`${o.id}`),u.addEventListener("click",(()=>function(o,n){let c=e.removeTask(o);const l=document.querySelector("#general");for(r.updateGeneralList(c),r.updateProject(n),t();l.lastElementChild;)l.removeChild(l.lastElementChild);i(n),console.log(r.projectList),console.log(n)}(o.id,o.project))),c.append(l,a,s,d,u),n.appendChild(c),n}function n(){return document.querySelector("#general").getAttribute("class")}function i(e){let t=n();"inboxTab"===t?a():"todayTab"===t?s():"weekTab"===t?d():t===`${e}`&&0!==e&&p.displayProjectTasks(e)}function a(){let e=r.grabProjectList()[0].taskList;const t=document.querySelector("#general");for(t.classList.replace(t.getAttribute("class"),"inboxTab");t.lastElementChild;)t.removeChild(t.lastElementChild);console.log(e),e.forEach((e=>o(e,t))),console.log(r.projectList)}function s(){let e=r.grabProjectList()[0].taskList;const t=document.querySelector("#general");for(t.classList.replace(t.getAttribute("class"),"todayTab");t.lastElementChild;)t.removeChild(t.lastElementChild);e.filter((e=>l(c(e.duedate)))).forEach((e=>o(e,t)))}function d(){let e=r.grabProjectList()[0].taskList;const t=document.querySelector("#general");for(t.classList.replace(t.getAttribute("class"),"weekTab");t.lastElementChild;)t.removeChild(t.lastElementChild);e.filter((e=>u(c(e.duedate)))).forEach((e=>o(e,t)))}return{displayInbox:a,displayDaily:s,displayWeekly:d,displayAllTask:o,updateDisplay:i,grabTab:n}})(),p=(()=>{function o(e){r.projectList;const t=document.querySelector("#general");for(t.classList.replace(t.getAttribute("class"),`${e}`);t.lastElementChild;)t.removeChild(t.lastElementChild);r.grabCurrentProjectTasks(e).forEach((e=>m.displayAllTask(e,t)))}return{displayProject:function n(c){const i=document.querySelector(".all-projects"),l=document.createElement("div"),a=document.createElement("div"),s=document.createElement("button"),d=document.createElement("button");return l.classList.add(`project-${c.id}`),l.setAttribute("data-projectId",`${c.id}`),s.setAttribute("data-projectId",`${c.id}`),s.setAttribute("id",`project-${c.id}`),a.textContent=`${c.title}`,s.textContent="+",d.textContent="delete",l.addEventListener("click",(e=>{e.stopPropagation(),o(c.id)})),s.addEventListener("click",(e=>{e.stopPropagation(),console.log("project id",r.grabProjectId(e));const t=document.querySelector("#main-form");r.grabProjectId(e),t.removeAttribute("hidden"),e.preventDefault()})),d.addEventListener("click",(o=>{o.stopPropagation(),function(o){r.removeProject(o),console.log("del project",r.grabProjectList());let c=r.grabProjectList(),i=e.TodoList.filter((e=>e.project===o));console.log("updatedprojects",c),i.forEach((t=>{let o=e.removeTask(t.id);r.updateGeneralList(o)}));let l=document.querySelector(".all-projects");for(;l.lastElementChild;)l.removeChild(l.lastElementChild);c.forEach((e=>{e.id>0&&n(e)})),parseInt(m.grabTab(o))===o?m.displayInbox():m.updateDisplay(o),t()}(c.id)})),l.append(a,s,d),i.appendChild(l),i},displayProjectTasks:o}})(),f=(()=>{let o,n;function i(){const t=r.grabProjectList();o=document.getElementById("title").value,n=document.getElementById("description").value;let i=document.getElementById("date").value,a=document.getElementById("priority").value,s=function(){let e=r.grabProjectList()[0].taskList;return 0===e.length?0:e[e.length-1].id+1}(),d=r.grabCurrentProject();if(console.log(u(c(i))),console.log(l(c(i))),""!==o&&""!==n&&""!==i){const r=((e,t,o,n,r,c)=>({id:e,title:t,description:o,duedate:n,priority:r,project:c}))(s,o,n,i,a,d);console.log(r),0===d&&(t[0].taskList.push(r),console.log(t));for(let o=1;o<t.length;o++)t[o].id===d&&(e.addToList(r),t[o].taskList.push(r),console.log(t))}}function a(){document.getElementById("title").value="",o="",document.getElementById("description").value="",n="",document.getElementById("date").value="",document.getElementById("priority").value="Low"}return{createNewTask:i,initSubmitBtn:function(){document.querySelector("#submit").addEventListener("click",(e=>{!function(){const e=document.querySelector("#main-form"),c=document.querySelector("#newTask");if(i(),t(),""!==o&&""!==n){let t=r.grabProjectList()[0].taskList,o=t[t.length-1].project;m.updateDisplay(o),a(),e.setAttribute("hidden",""),c.removeAttribute("hidden")}}(),e.preventDefault()}))},cancelTask:function(){const e=document.querySelector("#cancel"),t=document.querySelector("#main-form"),o=document.querySelector("#newTask");e.addEventListener("click",(e=>{a(),t.setAttribute("hidden",""),o.removeAttribute("hidden"),e.preventDefault()}))},openTaskCreator:function(){const e=document.querySelector("#newTask"),t=document.querySelector("#main-form");e.addEventListener("click",(o=>{r.grabProjectId(o),t.removeAttribute("hidden"),e.setAttribute("hidden",""),o.preventDefault()}))}}})();f.initSubmitBtn(),f.cancelTask(),f.openTaskCreator(),r.submitProject();const g=document.querySelector("#today"),b=document.querySelector("#weekly"),y=document.querySelector("#inbox");g.addEventListener("click",m.displayDaily),b.addEventListener("click",m.displayWeekly),y.addEventListener("click",m.displayInbox),document.addEventListener("DOMContentLoaded",o)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVc3RixpQkFBaUIsU0FBVUMsSUFDbEMzQixFQUFTaUMsY0FBY04sR0FDdkI4RSxFQUFZQyxnQkFBZ0IsVUFDNUJhLEVBQVd4QyxhQUFhLFNBQVUsSUFDbENwRCxFQUFFQyxnQkFBZ0IsR0FFMUIsRUFHSCxFQTFIZSxHQ1JoQm1GLEVBQVFPLGdCQUNSUCxFQUFRVSxhQUNSVixFQUFRWSxrQkFFUjNILEVBQVN1QixnQkFFVCxNQUFNcUcsRUFBV3BHLFNBQVNDLGNBQWMsVUFDbENvRyxFQUFVckcsU0FBU0MsY0FBYyxXQUNqQ3FHLEVBQVd0RyxTQUFTQyxjQUFjLFVBRXhDbUcsRUFBU2xHLGlCQUFpQixRQUFRZCxFQUFXb0YsY0FDN0M2QixFQUFRbkcsaUJBQWlCLFFBQVNkLEVBQVdxRixlQUM3QzZCLEVBQVNwRyxpQkFBaUIsUUFBU2QsRUFBV21GLGNBRTlDdkUsU0FBU0UsaUJBQWlCLG1CQUFvQjVCLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvbWFuYWdlTGlzdC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvc3RvcmFnZS5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvbWFuYWdlUHJvamVjdC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvdG9EYXRlLm1qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvc3RhcnRPZkRheS5tanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2lzVG9kYXkubWpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9pc1NhbWVEYXkubWpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9fbGliL2RlZmF1bHRPcHRpb25zLm1qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvc3RhcnRPZldlZWsubWpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9pc1RoaXNXZWVrLm1qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvaXNTYW1lV2Vlay5tanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL1VJLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9tYW5hZ2VUYXNrLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBBZGR0b0xpc3QgPSAoKCkgPT4ge1xuICAgIGxldCBUb2RvTGlzdCA9IFtdO1xuXG4gICAgZnVuY3Rpb24gYWRkVG9MaXN0KHRhc2spIHtcbiAgICAgICAgVG9kb0xpc3QucHVzaCh0YXNrKTtcbiAgICAgICAgY29uc29sZS5sb2coVG9kb0xpc3QpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlbW92ZVRhc2soaWQpIHtcbiAgICAgICAgcmV0dXJuIFRvZG9MaXN0ID0gVG9kb0xpc3QuZmlsdGVyKHRhc2sgPT4gaWQgIT09IHRhc2suaWQpO1xuICAgIH1cblxuICAgIHJldHVybiB7IGFkZFRvTGlzdCwgVG9kb0xpc3QsIHJlbW92ZVRhc2sgfTtcbn0pKClcblxuXG5leHBvcnQgeyBBZGR0b0xpc3QgfSIsImltcG9ydCB7IHByb2plY3RzIH0gZnJvbSBcIi4vbWFuYWdlUHJvamVjdFwiO1xuaW1wb3J0IHsgcmVuZGVyUHJvamVjdCwgcmVuZGVyVGFzayB9IGZyb20gXCIuL1VJXCI7XG5pbXBvcnQgeyBBZGR0b0xpc3QgfSBmcm9tIFwiLi9tYW5hZ2VMaXN0XCI7XG5cbmNvbnN0IHN0b3JlTG9jYWwgPSAoKCkgPT4ge1xuICAgIGZ1bmN0aW9uIHN0cmluZ2lmeShpdGVtKSB7XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShpdGVtKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzdG9yZVByb2plY3RzKCkge1xuICAgICAgICBjb25zdCBwcm9qZWN0TGlzdCA9IHByb2plY3RzLmdyYWJQcm9qZWN0TGlzdCgpO1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncHJvamVjdCcsIHN0cmluZ2lmeShwcm9qZWN0TGlzdCkpO1xuICAgICAgICBjb25zb2xlLmxvZyhKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwcm9qZWN0JykpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsb2FkU3RvcmFnZSgpIHtcbiAgICAgICAgY29uc3QgbmV3TGlzdCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2plY3QnKSk7XG5cbiAgICAgICAgbGV0IGdlbkxpc3QgPSBuZXdMaXN0WzBdO1xuICAgICAgICBnZW5MaXN0LnRhc2tMaXN0LmZvckVhY2godGFzayA9PiB7XG4gICAgICAgICAgICBBZGR0b0xpc3QuYWRkVG9MaXN0KHRhc2spO1xuICAgICAgICAgICAgcmVuZGVyVGFzay51cGRhdGVEaXNwbGF5KHRhc2sucHJvamVjdClcbiAgICAgICAgfSk7XG5cbiAgICAgICAgbGV0IGxvYWRlZFByb2plY3RzID0gbmV3TGlzdC5maWx0ZXIocHJvamVjdCA9PiBwcm9qZWN0LmlkICE9PSAwKTtcbiAgICAgICAgbG9hZGVkUHJvamVjdHMuZm9yRWFjaChwcm9qZWN0ID0+IHtcbiAgICAgICAgICAgIHByb2plY3RzLmFkZFRvUHJvamVjdExpc3QocHJvamVjdCk7XG4gICAgICAgICAgICByZW5kZXJQcm9qZWN0LmRpc3BsYXlQcm9qZWN0KHByb2plY3QpO1xuICAgICAgICB9KTtcblxuICAgICAgICBcbiAgICAgICAgLyogcHJvamVjdHMudXBkYXRlR2VuZXJhbExpc3QoZ2VuTGlzdCk7XG4gICAgICAgIGNvbnNvbGUubG9nKHByb2plY3RzLmdyYWJQcm9qZWN0TGlzdCgpWzBdKTtcbiAgICAgICAgaWYgKG5ld0xpc3QubGVuZ3RoID4gMSkge25ld0xpc3QuZm9yZWFjaChwcm9qZWN0ID0+IHByb2plY3RzLnVwZGF0ZVByb2plY3QocHJvamVjdC5pZCkpfTtcbiAgICAgICAgY29uc29sZS5sb2cocHJvamVjdHMuZ3JhYlByb2plY3RMaXN0KCkpXG4gICAgICAgIGNvbnNvbGUubG9nKEFkZHRvTGlzdC5Ub2RvTGlzdCkgKi9cbiAgICAgICAgLyogcmVuZGVyVGFzay5kaXNwbGF5SW5ib3goKTsgKi9cbiAgICB9XG5cbiAgICByZXR1cm4geyBzdG9yZVByb2plY3RzLFxuICAgICAgICAgICAgIGxvYWRTdG9yYWdlIH1cbn0pKCk7XG5cbmV4cG9ydCB7c3RvcmVMb2NhbH0iLCJpbXBvcnQgeyByZW5kZXJQcm9qZWN0IH0gZnJvbSBcIi4vVUlcIjtcbmltcG9ydCB7IEFkZHRvTGlzdCB9IGZyb20gXCIuL21hbmFnZUxpc3RcIjtcbmltcG9ydCB7IHN0b3JlTG9jYWwgfSBmcm9tIFwiLi9zdG9yYWdlXCI7XG5cbmNvbnN0IG5ld1Byb2plY3QgPSAodGl0bGUsIHRhc2tMaXN0LCBpZCkgPT4ge1xuICAgIHJldHVybiB7IHRpdGxlLCB0YXNrTGlzdCwgaWQgfTtcbn1cblxuY29uc3QgcHJvamVjdHMgPSAoKCkgPT4ge1xuICAgIGxldCBwcm9qZWN0VGl0bGVcbiAgICBsZXQgcHJvamVjdExpc3QgPSBbXTtcblxuICAgIGxldCB0YXNrTGlzdCA9IEFkZHRvTGlzdC5Ub2RvTGlzdDtcblxuICAgIGNvbnN0IGdlbmVyYWxMaXN0ID0gbmV3UHJvamVjdCgnR2VuZXJhbCcsIHRhc2tMaXN0LCAwKTtcbiAgICBwcm9qZWN0TGlzdC5wdXNoKGdlbmVyYWxMaXN0KTtcblxuICAgIGxldCBjdXJyZW50UHJvamVjdCA9IDA7XG5cbiAgICBmdW5jdGlvbiB1cGRhdGVHZW5lcmFsTGlzdChuZXdMaXN0KSB7XG4gICAgICAgIGdlbmVyYWxMaXN0LnRhc2tMaXN0ID0gbmV3TGlzdFxuICAgICAgICBjb25zb2xlLmxvZyhnZW5lcmFsTGlzdC50YXNrTGlzdClcbiAgICAgICAgcmV0dXJuIGdlbmVyYWxMaXN0XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdXBkYXRlUHJvamVjdChpZCkge1xuICAgICAgICBsZXQgdXBkYXRlID0gZ2VuZXJhbExpc3QudGFza0xpc3QuZmlsdGVyKHRhc2sgPT4gdGFzay5wcm9qZWN0ID09PSBpZCk7XG4gICAgICAgIGNvbnNvbGUubG9nKHVwZGF0ZSlcbiAgICAgICAgaWYgKGlkICE9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvamVjdExpc3QuZmlsdGVyKHByb2plY3QgPT4gcHJvamVjdC5pZCA9PT0gaWQpWzBdLnRhc2tMaXN0ID0gdXBkYXRlXG4gICAgICAgIH0gZWxzZSByZXR1cm47XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ3JhYkN1cnJlbnRQcm9qZWN0VGFza3MoaWQpIHtcbiAgICAgICAgY29uc29sZS5sb2cocHJvamVjdExpc3QuZmlsdGVyKHByb2plY3QgPT4gcHJvamVjdC5pZCA9PT0gaWQpWzBdLnRhc2tMaXN0KVxuICAgICAgICByZXR1cm4gcHJvamVjdExpc3QuZmlsdGVyKHByb2plY3QgPT4gcHJvamVjdC5pZCA9PT0gaWQpWzBdLnRhc2tMaXN0XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVtb3ZlUHJvamVjdChpZCkge1xuICAgICAgICBjb25zb2xlLmxvZygnYmVmb3JlJywgcHJvamVjdExpc3QpO1xuICAgICAgICBwcm9qZWN0TGlzdCA9IHByb2plY3RMaXN0LmZpbHRlcihwcm9qZWN0ID0+IHByb2plY3QuaWQgIT09IGlkKTtcbiAgICAgICAgY29uc29sZS5sb2coJ2FmdGVyJywgcHJvamVjdExpc3QpO1xuICAgICAgICByZXR1cm4gcHJvamVjdExpc3RcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBncmFiQ3VycmVudFByb2plY3QoKSB7XG4gICAgICAgIHJldHVybiBjdXJyZW50UHJvamVjdDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBncmFiUHJvamVjdExpc3QoKSB7XG4gICAgICAgIHJldHVybiBwcm9qZWN0TGlzdDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVQcm9qZWN0KCkge1xuICAgICAgICBwcm9qZWN0VGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJvamVjdFRpdGxlJykudmFsdWU7XG4gICAgICAgIGNvbnN0IHByb2plY3RJZCA9IGNyZWF0ZVByb2plY3RJZCgpXG4gICAgICAgIGNvbnN0IHByb2plY3RUYXNrcyA9IFtdO1xuXG4gICAgICAgIGlmIChwcm9qZWN0VGl0bGUgPT09ICcnKSByZXR1cm5cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBwcm9qZWN0ID0gbmV3UHJvamVjdChwcm9qZWN0VGl0bGUsIHByb2plY3RUYXNrcywgcHJvamVjdElkKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHByb2plY3QpO1xuICAgICAgICAgICAgYWRkVG9Qcm9qZWN0TGlzdChwcm9qZWN0KTtcbiAgICAgICAgICAgIHN0b3JlTG9jYWwuc3RvcmVQcm9qZWN0cygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlUHJvamVjdElkKCkge1xuICAgICAgICBsZXQgaWQ7XG4gICAgICAgIGlmIChwcm9qZWN0TGlzdC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBpZCA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gaWQgPSBwcm9qZWN0TGlzdFtwcm9qZWN0TGlzdC5sZW5ndGggLSAxXS5pZCArIDE7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGRUb1Byb2plY3RMaXN0KHByb2plY3QpIHtcbiAgICAgICAgcHJvamVjdExpc3QucHVzaChwcm9qZWN0KTtcbiAgICAgICAgY29uc29sZS5sb2cocHJvamVjdExpc3QpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgICAgICBsZXQgcHJvamVjdFRpdGxlVmFsdWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJvamVjdFRpdGxlJyk7XG4gICAgICAgIHByb2plY3RUaXRsZVZhbHVlLnZhbHVlID0gJyc7XG4gICAgICAgIHByb2plY3RUaXRsZSA9ICcnO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHN1Ym1pdFByb2plY3QoKSB7XG4gICAgICAgIGNvbnN0IGNyZWF0ZVByb2plY3RCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY3JlYXRlUHJvamVjdCcpO1xuXG4gICAgICAgIGNyZWF0ZVByb2plY3RCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjcmVhdGVQcm9qZWN0KCk7XG4gICAgICAgICAgICBpZiAocHJvamVjdFRpdGxlID09PSAnJykgcmV0dXJuXG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgcHJvamVjdCA9IHByb2plY3RMaXN0W3Byb2plY3RMaXN0Lmxlbmd0aCAtMV07XG5cbiAgICAgICAgICAgICAgICByZW5kZXJQcm9qZWN0LmRpc3BsYXlQcm9qZWN0KHByb2plY3QpO1xuICAgICAgICAgICAgICAgIHJlc2V0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ3JhYlByb2plY3RJZChlKSB7XG4gICAgICAgIGxldCBwcm9qZWN0SWQgPSBwYXJzZUludChlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvamVjdElkJykpO1xuXG4gICAgICAgIGN1cnJlbnRQcm9qZWN0ID0gcHJvamVjdElkO1xuXG4gICAgICAgIHJldHVybiBjdXJyZW50UHJvamVjdDtcbiAgICB9XG5cbiAgICByZXR1cm4geyBzdWJtaXRQcm9qZWN0LFxuICAgICAgICAgICAgIGdyYWJQcm9qZWN0SWQsXG4gICAgICAgICAgICAgZ3JhYkN1cnJlbnRQcm9qZWN0LCBcbiAgICAgICAgICAgICBncmFiUHJvamVjdExpc3QsIFxuICAgICAgICAgICAgIHByb2plY3RMaXN0LCBcbiAgICAgICAgICAgICB1cGRhdGVHZW5lcmFsTGlzdCxcbiAgICAgICAgICAgICB1cGRhdGVQcm9qZWN0LCBcbiAgICAgICAgICAgICBncmFiQ3VycmVudFByb2plY3RUYXNrcywgXG4gICAgICAgICAgICAgcmVtb3ZlUHJvamVjdCxcbiAgICAgICAgICAgICBhZGRUb1Byb2plY3RMaXN0IH1cbn0pKClcblxuZXhwb3J0IHsgcHJvamVjdHMgfVxuXG4iLCIvKipcbiAqIEBuYW1lIHRvRGF0ZVxuICogQGNhdGVnb3J5IENvbW1vbiBIZWxwZXJzXG4gKiBAc3VtbWFyeSBDb252ZXJ0IHRoZSBnaXZlbiBhcmd1bWVudCB0byBhbiBpbnN0YW5jZSBvZiBEYXRlLlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQ29udmVydCB0aGUgZ2l2ZW4gYXJndW1lbnQgdG8gYW4gaW5zdGFuY2Ugb2YgRGF0ZS5cbiAqXG4gKiBJZiB0aGUgYXJndW1lbnQgaXMgYW4gaW5zdGFuY2Ugb2YgRGF0ZSwgdGhlIGZ1bmN0aW9uIHJldHVybnMgaXRzIGNsb25lLlxuICpcbiAqIElmIHRoZSBhcmd1bWVudCBpcyBhIG51bWJlciwgaXQgaXMgdHJlYXRlZCBhcyBhIHRpbWVzdGFtcC5cbiAqXG4gKiBJZiB0aGUgYXJndW1lbnQgaXMgbm9uZSBvZiB0aGUgYWJvdmUsIHRoZSBmdW5jdGlvbiByZXR1cm5zIEludmFsaWQgRGF0ZS5cbiAqXG4gKiAqKk5vdGUqKjogKmFsbCogRGF0ZSBhcmd1bWVudHMgcGFzc2VkIHRvIGFueSAqZGF0ZS1mbnMqIGZ1bmN0aW9uIGlzIHByb2Nlc3NlZCBieSBgdG9EYXRlYC5cbiAqXG4gKiBAdHlwZVBhcmFtIERhdGVUeXBlIC0gVGhlIGBEYXRlYCB0eXBlLCB0aGUgZnVuY3Rpb24gb3BlcmF0ZXMgb24uIEdldHMgaW5mZXJyZWQgZnJvbSBwYXNzZWQgYXJndW1lbnRzLiBBbGxvd3MgdG8gdXNlIGV4dGVuc2lvbnMgbGlrZSBbYFVUQ0RhdGVgXShodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvdXRjKS5cbiAqXG4gKiBAcGFyYW0gYXJndW1lbnQgLSBUaGUgdmFsdWUgdG8gY29udmVydFxuICpcbiAqIEByZXR1cm5zIFRoZSBwYXJzZWQgZGF0ZSBpbiB0aGUgbG9jYWwgdGltZSB6b25lXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIENsb25lIHRoZSBkYXRlOlxuICogY29uc3QgcmVzdWx0ID0gdG9EYXRlKG5ldyBEYXRlKDIwMTQsIDEsIDExLCAxMSwgMzAsIDMwKSlcbiAqIC8vPT4gVHVlIEZlYiAxMSAyMDE0IDExOjMwOjMwXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIENvbnZlcnQgdGhlIHRpbWVzdGFtcCB0byBkYXRlOlxuICogY29uc3QgcmVzdWx0ID0gdG9EYXRlKDEzOTIwOTg0MzAwMDApXG4gKiAvLz0+IFR1ZSBGZWIgMTEgMjAxNCAxMTozMDozMFxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9EYXRlKGFyZ3VtZW50KSB7XG4gIGNvbnN0IGFyZ1N0ciA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcmd1bWVudCk7XG5cbiAgLy8gQ2xvbmUgdGhlIGRhdGVcbiAgaWYgKFxuICAgIGFyZ3VtZW50IGluc3RhbmNlb2YgRGF0ZSB8fFxuICAgICh0eXBlb2YgYXJndW1lbnQgPT09IFwib2JqZWN0XCIgJiYgYXJnU3RyID09PSBcIltvYmplY3QgRGF0ZV1cIilcbiAgKSB7XG4gICAgLy8gUHJldmVudCB0aGUgZGF0ZSB0byBsb3NlIHRoZSBtaWxsaXNlY29uZHMgd2hlbiBwYXNzZWQgdG8gbmV3IERhdGUoKSBpbiBJRTEwXG4gICAgcmV0dXJuIG5ldyBhcmd1bWVudC5jb25zdHJ1Y3RvcigrYXJndW1lbnQpO1xuICB9IGVsc2UgaWYgKFxuICAgIHR5cGVvZiBhcmd1bWVudCA9PT0gXCJudW1iZXJcIiB8fFxuICAgIGFyZ1N0ciA9PT0gXCJbb2JqZWN0IE51bWJlcl1cIiB8fFxuICAgIHR5cGVvZiBhcmd1bWVudCA9PT0gXCJzdHJpbmdcIiB8fFxuICAgIGFyZ1N0ciA9PT0gXCJbb2JqZWN0IFN0cmluZ11cIlxuICApIHtcbiAgICAvLyBUT0RPOiBDYW4gd2UgZ2V0IHJpZCBvZiBhcz9cbiAgICByZXR1cm4gbmV3IERhdGUoYXJndW1lbnQpO1xuICB9IGVsc2Uge1xuICAgIC8vIFRPRE86IENhbiB3ZSBnZXQgcmlkIG9mIGFzP1xuICAgIHJldHVybiBuZXcgRGF0ZShOYU4pO1xuICB9XG59XG5cbi8vIEZhbGxiYWNrIGZvciBtb2R1bGFyaXplZCBpbXBvcnRzOlxuZXhwb3J0IGRlZmF1bHQgdG9EYXRlO1xuIiwiaW1wb3J0IHsgdG9EYXRlIH0gZnJvbSBcIi4vdG9EYXRlLm1qc1wiO1xuXG4vKipcbiAqIEBuYW1lIHN0YXJ0T2ZEYXlcbiAqIEBjYXRlZ29yeSBEYXkgSGVscGVyc1xuICogQHN1bW1hcnkgUmV0dXJuIHRoZSBzdGFydCBvZiBhIGRheSBmb3IgdGhlIGdpdmVuIGRhdGUuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBSZXR1cm4gdGhlIHN0YXJ0IG9mIGEgZGF5IGZvciB0aGUgZ2l2ZW4gZGF0ZS5cbiAqIFRoZSByZXN1bHQgd2lsbCBiZSBpbiB0aGUgbG9jYWwgdGltZXpvbmUuXG4gKlxuICogQHR5cGVQYXJhbSBEYXRlVHlwZSAtIFRoZSBgRGF0ZWAgdHlwZSwgdGhlIGZ1bmN0aW9uIG9wZXJhdGVzIG9uLiBHZXRzIGluZmVycmVkIGZyb20gcGFzc2VkIGFyZ3VtZW50cy4gQWxsb3dzIHRvIHVzZSBleHRlbnNpb25zIGxpa2UgW2BVVENEYXRlYF0oaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL3V0YykuXG4gKlxuICogQHBhcmFtIGRhdGUgLSBUaGUgb3JpZ2luYWwgZGF0ZVxuICpcbiAqIEByZXR1cm5zIFRoZSBzdGFydCBvZiBhIGRheVxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBUaGUgc3RhcnQgb2YgYSBkYXkgZm9yIDIgU2VwdGVtYmVyIDIwMTQgMTE6NTU6MDA6XG4gKiBjb25zdCByZXN1bHQgPSBzdGFydE9mRGF5KG5ldyBEYXRlKDIwMTQsIDgsIDIsIDExLCA1NSwgMCkpXG4gKiAvLz0+IFR1ZSBTZXAgMDIgMjAxNCAwMDowMDowMFxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRPZkRheShkYXRlKSB7XG4gIGNvbnN0IF9kYXRlID0gdG9EYXRlKGRhdGUpO1xuICBfZGF0ZS5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgcmV0dXJuIF9kYXRlO1xufVxuXG4vLyBGYWxsYmFjayBmb3IgbW9kdWxhcml6ZWQgaW1wb3J0czpcbmV4cG9ydCBkZWZhdWx0IHN0YXJ0T2ZEYXk7XG4iLCJpbXBvcnQgeyBpc1NhbWVEYXkgfSBmcm9tIFwiLi9pc1NhbWVEYXkubWpzXCI7XG5cbi8qKlxuICogQG5hbWUgaXNUb2RheVxuICogQGNhdGVnb3J5IERheSBIZWxwZXJzXG4gKiBAc3VtbWFyeSBJcyB0aGUgZ2l2ZW4gZGF0ZSB0b2RheT9cbiAqIEBwdXJlIGZhbHNlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBJcyB0aGUgZ2l2ZW4gZGF0ZSB0b2RheT9cbiAqXG4gKiBAdHlwZVBhcmFtIERhdGVUeXBlIC0gVGhlIGBEYXRlYCB0eXBlLCB0aGUgZnVuY3Rpb24gb3BlcmF0ZXMgb24uIEdldHMgaW5mZXJyZWQgZnJvbSBwYXNzZWQgYXJndW1lbnRzLiBBbGxvd3MgdG8gdXNlIGV4dGVuc2lvbnMgbGlrZSBbYFVUQ0RhdGVgXShodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvdXRjKS5cbiAqXG4gKiBAcGFyYW0gZGF0ZSAtIFRoZSBkYXRlIHRvIGNoZWNrXG4gKlxuICogQHJldHVybnMgVGhlIGRhdGUgaXMgdG9kYXlcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gSWYgdG9kYXkgaXMgNiBPY3RvYmVyIDIwMTQsIGlzIDYgT2N0b2JlciAxNDowMDowMCB0b2RheT9cbiAqIGNvbnN0IHJlc3VsdCA9IGlzVG9kYXkobmV3IERhdGUoMjAxNCwgOSwgNiwgMTQsIDApKVxuICogLy89PiB0cnVlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1RvZGF5KGRhdGUpIHtcbiAgcmV0dXJuIGlzU2FtZURheShkYXRlLCBEYXRlLm5vdygpKTtcbn1cblxuLy8gRmFsbGJhY2sgZm9yIG1vZHVsYXJpemVkIGltcG9ydHM6XG5leHBvcnQgZGVmYXVsdCBpc1RvZGF5O1xuIiwiaW1wb3J0IHsgc3RhcnRPZkRheSB9IGZyb20gXCIuL3N0YXJ0T2ZEYXkubWpzXCI7XG5cbi8qKlxuICogQG5hbWUgaXNTYW1lRGF5XG4gKiBAY2F0ZWdvcnkgRGF5IEhlbHBlcnNcbiAqIEBzdW1tYXJ5IEFyZSB0aGUgZ2l2ZW4gZGF0ZXMgaW4gdGhlIHNhbWUgZGF5IChhbmQgeWVhciBhbmQgbW9udGgpP1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQXJlIHRoZSBnaXZlbiBkYXRlcyBpbiB0aGUgc2FtZSBkYXkgKGFuZCB5ZWFyIGFuZCBtb250aCk/XG4gKlxuICogQHR5cGVQYXJhbSBEYXRlVHlwZSAtIFRoZSBgRGF0ZWAgdHlwZSwgdGhlIGZ1bmN0aW9uIG9wZXJhdGVzIG9uLiBHZXRzIGluZmVycmVkIGZyb20gcGFzc2VkIGFyZ3VtZW50cy4gQWxsb3dzIHRvIHVzZSBleHRlbnNpb25zIGxpa2UgW2BVVENEYXRlYF0oaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL3V0YykuXG4gKlxuICogQHBhcmFtIGRhdGVMZWZ0IC0gVGhlIGZpcnN0IGRhdGUgdG8gY2hlY2tcbiAqIEBwYXJhbSBkYXRlUmlnaHQgLSBUaGUgc2Vjb25kIGRhdGUgdG8gY2hlY2tcblxuICogQHJldHVybnMgVGhlIGRhdGVzIGFyZSBpbiB0aGUgc2FtZSBkYXkgKGFuZCB5ZWFyIGFuZCBtb250aClcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQXJlIDQgU2VwdGVtYmVyIDA2OjAwOjAwIGFuZCA0IFNlcHRlbWJlciAxODowMDowMCBpbiB0aGUgc2FtZSBkYXk/XG4gKiBjb25zdCByZXN1bHQgPSBpc1NhbWVEYXkobmV3IERhdGUoMjAxNCwgOCwgNCwgNiwgMCksIG5ldyBEYXRlKDIwMTQsIDgsIDQsIDE4LCAwKSlcbiAqIC8vPT4gdHJ1ZVxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBBcmUgNCBTZXB0ZW1iZXIgYW5kIDQgT2N0b2JlciBpbiB0aGUgc2FtZSBkYXk/XG4gKiBjb25zdCByZXN1bHQgPSBpc1NhbWVEYXkobmV3IERhdGUoMjAxNCwgOCwgNCksIG5ldyBEYXRlKDIwMTQsIDksIDQpKVxuICogLy89PiBmYWxzZVxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBBcmUgNCBTZXB0ZW1iZXIsIDIwMTQgYW5kIDQgU2VwdGVtYmVyLCAyMDE1IGluIHRoZSBzYW1lIGRheT9cbiAqIGNvbnN0IHJlc3VsdCA9IGlzU2FtZURheShuZXcgRGF0ZSgyMDE0LCA4LCA0KSwgbmV3IERhdGUoMjAxNSwgOCwgNCkpXG4gKiAvLz0+IGZhbHNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1NhbWVEYXkoZGF0ZUxlZnQsIGRhdGVSaWdodCkge1xuICBjb25zdCBkYXRlTGVmdFN0YXJ0T2ZEYXkgPSBzdGFydE9mRGF5KGRhdGVMZWZ0KTtcbiAgY29uc3QgZGF0ZVJpZ2h0U3RhcnRPZkRheSA9IHN0YXJ0T2ZEYXkoZGF0ZVJpZ2h0KTtcblxuICByZXR1cm4gK2RhdGVMZWZ0U3RhcnRPZkRheSA9PT0gK2RhdGVSaWdodFN0YXJ0T2ZEYXk7XG59XG5cbi8vIEZhbGxiYWNrIGZvciBtb2R1bGFyaXplZCBpbXBvcnRzOlxuZXhwb3J0IGRlZmF1bHQgaXNTYW1lRGF5O1xuIiwibGV0IGRlZmF1bHRPcHRpb25zID0ge307XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXREZWZhdWx0T3B0aW9ucygpIHtcbiAgcmV0dXJuIGRlZmF1bHRPcHRpb25zO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0RGVmYXVsdE9wdGlvbnMobmV3T3B0aW9ucykge1xuICBkZWZhdWx0T3B0aW9ucyA9IG5ld09wdGlvbnM7XG59XG4iLCJpbXBvcnQgeyB0b0RhdGUgfSBmcm9tIFwiLi90b0RhdGUubWpzXCI7XG5pbXBvcnQgeyBnZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gXCIuL19saWIvZGVmYXVsdE9wdGlvbnMubWpzXCI7XG5cbi8qKlxuICogVGhlIHtAbGluayBzdGFydE9mV2Vla30gZnVuY3Rpb24gb3B0aW9ucy5cbiAqL1xuXG4vKipcbiAqIEBuYW1lIHN0YXJ0T2ZXZWVrXG4gKiBAY2F0ZWdvcnkgV2VlayBIZWxwZXJzXG4gKiBAc3VtbWFyeSBSZXR1cm4gdGhlIHN0YXJ0IG9mIGEgd2VlayBmb3IgdGhlIGdpdmVuIGRhdGUuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBSZXR1cm4gdGhlIHN0YXJ0IG9mIGEgd2VlayBmb3IgdGhlIGdpdmVuIGRhdGUuXG4gKiBUaGUgcmVzdWx0IHdpbGwgYmUgaW4gdGhlIGxvY2FsIHRpbWV6b25lLlxuICpcbiAqIEB0eXBlUGFyYW0gRGF0ZVR5cGUgLSBUaGUgYERhdGVgIHR5cGUsIHRoZSBmdW5jdGlvbiBvcGVyYXRlcyBvbi4gR2V0cyBpbmZlcnJlZCBmcm9tIHBhc3NlZCBhcmd1bWVudHMuIEFsbG93cyB0byB1c2UgZXh0ZW5zaW9ucyBsaWtlIFtgVVRDRGF0ZWBdKGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy91dGMpLlxuICpcbiAqIEBwYXJhbSBkYXRlIC0gVGhlIG9yaWdpbmFsIGRhdGVcbiAqIEBwYXJhbSBvcHRpb25zIC0gQW4gb2JqZWN0IHdpdGggb3B0aW9uc1xuICpcbiAqIEByZXR1cm5zIFRoZSBzdGFydCBvZiBhIHdlZWtcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gVGhlIHN0YXJ0IG9mIGEgd2VlayBmb3IgMiBTZXB0ZW1iZXIgMjAxNCAxMTo1NTowMDpcbiAqIGNvbnN0IHJlc3VsdCA9IHN0YXJ0T2ZXZWVrKG5ldyBEYXRlKDIwMTQsIDgsIDIsIDExLCA1NSwgMCkpXG4gKiAvLz0+IFN1biBBdWcgMzEgMjAxNCAwMDowMDowMFxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBJZiB0aGUgd2VlayBzdGFydHMgb24gTW9uZGF5LCB0aGUgc3RhcnQgb2YgdGhlIHdlZWsgZm9yIDIgU2VwdGVtYmVyIDIwMTQgMTE6NTU6MDA6XG4gKiBjb25zdCByZXN1bHQgPSBzdGFydE9mV2VlayhuZXcgRGF0ZSgyMDE0LCA4LCAyLCAxMSwgNTUsIDApLCB7IHdlZWtTdGFydHNPbjogMSB9KVxuICogLy89PiBNb24gU2VwIDAxIDIwMTQgMDA6MDA6MDBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0T2ZXZWVrKGRhdGUsIG9wdGlvbnMpIHtcbiAgY29uc3QgZGVmYXVsdE9wdGlvbnMgPSBnZXREZWZhdWx0T3B0aW9ucygpO1xuICBjb25zdCB3ZWVrU3RhcnRzT24gPVxuICAgIG9wdGlvbnM/LndlZWtTdGFydHNPbiA/P1xuICAgIG9wdGlvbnM/LmxvY2FsZT8ub3B0aW9ucz8ud2Vla1N0YXJ0c09uID8/XG4gICAgZGVmYXVsdE9wdGlvbnMud2Vla1N0YXJ0c09uID8/XG4gICAgZGVmYXVsdE9wdGlvbnMubG9jYWxlPy5vcHRpb25zPy53ZWVrU3RhcnRzT24gPz9cbiAgICAwO1xuXG4gIGNvbnN0IF9kYXRlID0gdG9EYXRlKGRhdGUpO1xuICBjb25zdCBkYXkgPSBfZGF0ZS5nZXREYXkoKTtcbiAgY29uc3QgZGlmZiA9IChkYXkgPCB3ZWVrU3RhcnRzT24gPyA3IDogMCkgKyBkYXkgLSB3ZWVrU3RhcnRzT247XG5cbiAgX2RhdGUuc2V0RGF0ZShfZGF0ZS5nZXREYXRlKCkgLSBkaWZmKTtcbiAgX2RhdGUuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG4gIHJldHVybiBfZGF0ZTtcbn1cblxuLy8gRmFsbGJhY2sgZm9yIG1vZHVsYXJpemVkIGltcG9ydHM6XG5leHBvcnQgZGVmYXVsdCBzdGFydE9mV2VlaztcbiIsImltcG9ydCB7IGlzU2FtZVdlZWsgfSBmcm9tIFwiLi9pc1NhbWVXZWVrLm1qc1wiO1xuXG4vKipcbiAqIFRoZSB7QGxpbmsgaXNUaGlzV2Vla30gZnVuY3Rpb24gb3B0aW9ucy5cbiAqL1xuXG4vKipcbiAqIEBuYW1lIGlzVGhpc1dlZWtcbiAqIEBjYXRlZ29yeSBXZWVrIEhlbHBlcnNcbiAqIEBzdW1tYXJ5IElzIHRoZSBnaXZlbiBkYXRlIGluIHRoZSBzYW1lIHdlZWsgYXMgdGhlIGN1cnJlbnQgZGF0ZT9cbiAqIEBwdXJlIGZhbHNlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBJcyB0aGUgZ2l2ZW4gZGF0ZSBpbiB0aGUgc2FtZSB3ZWVrIGFzIHRoZSBjdXJyZW50IGRhdGU/XG4gKlxuICogQHR5cGVQYXJhbSBEYXRlVHlwZSAtIFRoZSBgRGF0ZWAgdHlwZSwgdGhlIGZ1bmN0aW9uIG9wZXJhdGVzIG9uLiBHZXRzIGluZmVycmVkIGZyb20gcGFzc2VkIGFyZ3VtZW50cy4gQWxsb3dzIHRvIHVzZSBleHRlbnNpb25zIGxpa2UgW2BVVENEYXRlYF0oaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL3V0YykuXG4gKlxuICogQHBhcmFtIGRhdGUgLSBUaGUgZGF0ZSB0byBjaGVja1xuICogQHBhcmFtIG9wdGlvbnMgLSBUaGUgb2JqZWN0IHdpdGggb3B0aW9uc1xuICpcbiAqIEByZXR1cm5zIFRoZSBkYXRlIGlzIGluIHRoaXMgd2Vla1xuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBJZiB0b2RheSBpcyAyNSBTZXB0ZW1iZXIgMjAxNCwgaXMgMjEgU2VwdGVtYmVyIDIwMTQgaW4gdGhpcyB3ZWVrP1xuICogY29uc3QgcmVzdWx0ID0gaXNUaGlzV2VlayhuZXcgRGF0ZSgyMDE0LCA4LCAyMSkpXG4gKiAvLz0+IHRydWVcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gSWYgdG9kYXkgaXMgMjUgU2VwdGVtYmVyIDIwMTQgYW5kIHdlZWsgc3RhcnRzIHdpdGggTW9uZGF5XG4gKiAvLyBpcyAyMSBTZXB0ZW1iZXIgMjAxNCBpbiB0aGlzIHdlZWs/XG4gKiBjb25zdCByZXN1bHQgPSBpc1RoaXNXZWVrKG5ldyBEYXRlKDIwMTQsIDgsIDIxKSwgeyB3ZWVrU3RhcnRzT246IDEgfSlcbiAqIC8vPT4gZmFsc2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzVGhpc1dlZWsoZGF0ZSwgb3B0aW9ucykge1xuICByZXR1cm4gaXNTYW1lV2VlayhkYXRlLCBEYXRlLm5vdygpLCBvcHRpb25zKTtcbn1cblxuLy8gRmFsbGJhY2sgZm9yIG1vZHVsYXJpemVkIGltcG9ydHM6XG5leHBvcnQgZGVmYXVsdCBpc1RoaXNXZWVrO1xuIiwiaW1wb3J0IHsgc3RhcnRPZldlZWsgfSBmcm9tIFwiLi9zdGFydE9mV2Vlay5tanNcIjtcblxuLyoqXG4gKiBUaGUge0BsaW5rIGlzU2FtZVdlZWt9IGZ1bmN0aW9uIG9wdGlvbnMuXG4gKi9cblxuLyoqXG4gKiBAbmFtZSBpc1NhbWVXZWVrXG4gKiBAY2F0ZWdvcnkgV2VlayBIZWxwZXJzXG4gKiBAc3VtbWFyeSBBcmUgdGhlIGdpdmVuIGRhdGVzIGluIHRoZSBzYW1lIHdlZWsgKGFuZCBtb250aCBhbmQgeWVhcik/XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBBcmUgdGhlIGdpdmVuIGRhdGVzIGluIHRoZSBzYW1lIHdlZWsgKGFuZCBtb250aCBhbmQgeWVhcik/XG4gKlxuICogQHR5cGVQYXJhbSBEYXRlVHlwZSAtIFRoZSBgRGF0ZWAgdHlwZSwgdGhlIGZ1bmN0aW9uIG9wZXJhdGVzIG9uLiBHZXRzIGluZmVycmVkIGZyb20gcGFzc2VkIGFyZ3VtZW50cy4gQWxsb3dzIHRvIHVzZSBleHRlbnNpb25zIGxpa2UgW2BVVENEYXRlYF0oaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL3V0YykuXG4gKlxuICogQHBhcmFtIGRhdGVMZWZ0IC0gVGhlIGZpcnN0IGRhdGUgdG8gY2hlY2tcbiAqIEBwYXJhbSBkYXRlUmlnaHQgLSBUaGUgc2Vjb25kIGRhdGUgdG8gY2hlY2tcbiAqIEBwYXJhbSBvcHRpb25zIC0gQW4gb2JqZWN0IHdpdGggb3B0aW9uc1xuICpcbiAqIEByZXR1cm5zIFRoZSBkYXRlcyBhcmUgaW4gdGhlIHNhbWUgd2VlayAoYW5kIG1vbnRoIGFuZCB5ZWFyKVxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBBcmUgMzEgQXVndXN0IDIwMTQgYW5kIDQgU2VwdGVtYmVyIDIwMTQgaW4gdGhlIHNhbWUgd2Vlaz9cbiAqIGNvbnN0IHJlc3VsdCA9IGlzU2FtZVdlZWsobmV3IERhdGUoMjAxNCwgNywgMzEpLCBuZXcgRGF0ZSgyMDE0LCA4LCA0KSlcbiAqIC8vPT4gdHJ1ZVxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBJZiB3ZWVrIHN0YXJ0cyB3aXRoIE1vbmRheSxcbiAqIC8vIGFyZSAzMSBBdWd1c3QgMjAxNCBhbmQgNCBTZXB0ZW1iZXIgMjAxNCBpbiB0aGUgc2FtZSB3ZWVrP1xuICogY29uc3QgcmVzdWx0ID0gaXNTYW1lV2VlayhuZXcgRGF0ZSgyMDE0LCA3LCAzMSksIG5ldyBEYXRlKDIwMTQsIDgsIDQpLCB7XG4gKiAgIHdlZWtTdGFydHNPbjogMVxuICogfSlcbiAqIC8vPT4gZmFsc2VcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQXJlIDEgSmFudWFyeSAyMDE0IGFuZCAxIEphbnVhcnkgMjAxNSBpbiB0aGUgc2FtZSB3ZWVrP1xuICogY29uc3QgcmVzdWx0ID0gaXNTYW1lV2VlayhuZXcgRGF0ZSgyMDE0LCAwLCAxKSwgbmV3IERhdGUoMjAxNSwgMCwgMSkpXG4gKiAvLz0+IGZhbHNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1NhbWVXZWVrKGRhdGVMZWZ0LCBkYXRlUmlnaHQsIG9wdGlvbnMpIHtcbiAgY29uc3QgZGF0ZUxlZnRTdGFydE9mV2VlayA9IHN0YXJ0T2ZXZWVrKGRhdGVMZWZ0LCBvcHRpb25zKTtcbiAgY29uc3QgZGF0ZVJpZ2h0U3RhcnRPZldlZWsgPSBzdGFydE9mV2VlayhkYXRlUmlnaHQsIG9wdGlvbnMpO1xuXG4gIHJldHVybiArZGF0ZUxlZnRTdGFydE9mV2VlayA9PT0gK2RhdGVSaWdodFN0YXJ0T2ZXZWVrO1xufVxuXG4vLyBGYWxsYmFjayBmb3IgbW9kdWxhcml6ZWQgaW1wb3J0czpcbmV4cG9ydCBkZWZhdWx0IGlzU2FtZVdlZWs7XG4iLCJpbXBvcnQgeyBwcm9qZWN0cyB9IGZyb20gXCIuL21hbmFnZVByb2plY3RcIjtcbmltcG9ydCB7IGlzVG9kYXksIHRvRGF0ZSwgaXNUaGlzV2VlayB9IGZyb20gXCJkYXRlLWZuc1wiO1xuaW1wb3J0IHsgQWRkdG9MaXN0IH0gZnJvbSBcIi4vbWFuYWdlTGlzdFwiO1xuaW1wb3J0IHsgc3RvcmVMb2NhbCB9IGZyb20gXCIuL3N0b3JhZ2VcIjtcblxuY29uc3QgcmVuZGVyVGFzayA9ICgoKSA9PiB7XG4gICAgZnVuY3Rpb24gZGlzcGxheUFsbFRhc2soaXRlbXMsIGRpc3BsYXkpIHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICAgICAgY29udGFpbmVyLnNldEF0dHJpYnV0ZSgnZGF0YS10YXNrSWQnLCBgJHtpdGVtcy5pZH1gKVxuXG4gICAgICAgIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCd0YXNrJyk7XG5cbiAgICAgICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgICBjb25zdCBkdWVkYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGNvbnN0IHByaW9yaXR5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGNvbnN0IGRlbGV0ZUJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuXG4gICAgICAgIHRpdGxlLnRleHRDb250ZW50ID0gYFRpdGxlOiAke2l0ZW1zLnRpdGxlfWA7XG4gICAgICAgIGR1ZWRhdGUudGV4dENvbnRlbnQgPSBgRHVlIERhdGU6ICR7aXRlbXMuZHVlZGF0ZX1gO1xuICAgICAgICBkZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IGBEZXNjcmlwdGlvbjogJHtpdGVtcy5kZXNjcmlwdGlvbn1gO1xuICAgICAgICBwcmlvcml0eS50ZXh0Q29udGVudCA9IGBQcmlvcml0eTogJHtpdGVtcy5wcmlvcml0eX1gO1xuICAgICAgICBkZWxldGVCdG4udGV4dENvbnRlbnQgPSAnZGVsZXRlJztcblxuICAgICAgICBkZWxldGVCdG4uc2V0QXR0cmlidXRlKCdkYXRhLXRhc2tJZCcsIGAke2l0ZW1zLmlkfWApO1xuXG4gICAgICAgIGRlbGV0ZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGluaXREZWxCdG4oaXRlbXMuaWQsIGl0ZW1zLnByb2plY3QpKTtcblxuICAgICAgICBjb250YWluZXIuYXBwZW5kKHRpdGxlLCBkdWVkYXRlLCBkZXNjcmlwdGlvbiwgcHJpb3JpdHksIGRlbGV0ZUJ0bik7XG4gICAgICAgIGRpc3BsYXkuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcblxuICAgICAgICByZXR1cm4gZGlzcGxheTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbml0RGVsQnRuKGlkLCBwcm9qZWN0SWQpIHtcbiAgICAgICAgbGV0IEFsbHRhc2sgPSBBZGR0b0xpc3QucmVtb3ZlVGFzayhpZCk7XG4gICAgICAgIGNvbnN0IGdlbmVyYWxMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2dlbmVyYWwnKTtcblxuICAgICAgICBwcm9qZWN0cy51cGRhdGVHZW5lcmFsTGlzdChBbGx0YXNrKTtcbiAgICAgICAgcHJvamVjdHMudXBkYXRlUHJvamVjdChwcm9qZWN0SWQpO1xuICAgICAgICBzdG9yZUxvY2FsLnN0b3JlUHJvamVjdHMoKTtcblxuICAgICAgICB3aGlsZSAoZ2VuZXJhbExpc3QubGFzdEVsZW1lbnRDaGlsZCkgZ2VuZXJhbExpc3QucmVtb3ZlQ2hpbGQoZ2VuZXJhbExpc3QubGFzdEVsZW1lbnRDaGlsZCk7XG4gICAgICAgIFxuICAgICAgICB1cGRhdGVEaXNwbGF5KHByb2plY3RJZCk7XG5cbiAgICAgICAgY29uc29sZS5sb2cocHJvamVjdHMucHJvamVjdExpc3QpO1xuICAgICAgICBjb25zb2xlLmxvZyhwcm9qZWN0SWQpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ3JhYlRhYigpIHtcbiAgICAgICAgbGV0IGN1cnJlbnRUYWIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZ2VuZXJhbCcpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKTtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRUYWI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdXBkYXRlRGlzcGxheShpZCkge1xuICAgICAgICBsZXQgdGFiID0gZ3JhYlRhYigpO1xuICAgICAgICBpZiAodGFiID09PSAnaW5ib3hUYWInKSBkaXNwbGF5SW5ib3goKVxuICAgICAgICBlbHNlIGlmICh0YWIgPT09ICd0b2RheVRhYicpIGRpc3BsYXlEYWlseSgpXG4gICAgICAgIGVsc2UgaWYgKHRhYiA9PT0gJ3dlZWtUYWInKSBkaXNwbGF5V2Vla2x5KClcbiAgICAgICAgZWxzZSBpZiAodGFiID09PSBgJHtpZH1gICYmIGlkICE9PSAwKSByZW5kZXJQcm9qZWN0LmRpc3BsYXlQcm9qZWN0VGFza3MoaWQpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGlzcGxheUluYm94KCkge1xuICAgICAgICBsZXQgbGlzdCA9IHByb2plY3RzLmdyYWJQcm9qZWN0TGlzdCgpWzBdLnRhc2tMaXN0O1xuICAgICAgICBjb25zdCBnZW5lcmFsTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNnZW5lcmFsJyk7XG4gICAgICAgIGdlbmVyYWxMaXN0LmNsYXNzTGlzdC5yZXBsYWNlKGdlbmVyYWxMaXN0LmdldEF0dHJpYnV0ZSgnY2xhc3MnKSwgJ2luYm94VGFiJyk7XG5cbiAgICAgICAgd2hpbGUgKGdlbmVyYWxMaXN0Lmxhc3RFbGVtZW50Q2hpbGQpIGdlbmVyYWxMaXN0LnJlbW92ZUNoaWxkKGdlbmVyYWxMaXN0Lmxhc3RFbGVtZW50Q2hpbGQpO1xuICAgICAgICBjb25zb2xlLmxvZyhsaXN0KVxuICAgICAgICBsaXN0LmZvckVhY2godGFzayA9PiBkaXNwbGF5QWxsVGFzayh0YXNrLCBnZW5lcmFsTGlzdCkpO1xuICAgICAgICBjb25zb2xlLmxvZyhwcm9qZWN0cy5wcm9qZWN0TGlzdClcbiAgICAgICAgXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGlzcGxheURhaWx5KCkge1xuICAgICAgICBsZXQgbGlzdCA9IHByb2plY3RzLmdyYWJQcm9qZWN0TGlzdCgpWzBdLnRhc2tMaXN0O1xuICAgICAgICBjb25zdCBnZW5lcmFsTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNnZW5lcmFsJyk7XG4gICAgICAgIGdlbmVyYWxMaXN0LmNsYXNzTGlzdC5yZXBsYWNlKGdlbmVyYWxMaXN0LmdldEF0dHJpYnV0ZSgnY2xhc3MnKSwgJ3RvZGF5VGFiJyk7XG5cbiAgICAgICAgd2hpbGUgKGdlbmVyYWxMaXN0Lmxhc3RFbGVtZW50Q2hpbGQpIGdlbmVyYWxMaXN0LnJlbW92ZUNoaWxkKGdlbmVyYWxMaXN0Lmxhc3RFbGVtZW50Q2hpbGQpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgZGFpbHlUYXNrcyA9IGxpc3QuZmlsdGVyKHRhc2sgPT4gaXNUb2RheSh0b0RhdGUodGFzay5kdWVkYXRlKSkpO1xuICAgICAgICBcbiAgICAgICAgZGFpbHlUYXNrcy5mb3JFYWNoKHRhc2sgPT4gZGlzcGxheUFsbFRhc2sodGFzaywgZ2VuZXJhbExpc3QpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkaXNwbGF5V2Vla2x5KCkge1xuICAgICAgICBsZXQgbGlzdCA9IHByb2plY3RzLmdyYWJQcm9qZWN0TGlzdCgpWzBdLnRhc2tMaXN0O1xuICAgICAgICBjb25zdCBnZW5lcmFsTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNnZW5lcmFsJyk7XG4gICAgICAgIGdlbmVyYWxMaXN0LmNsYXNzTGlzdC5yZXBsYWNlKGdlbmVyYWxMaXN0LmdldEF0dHJpYnV0ZSgnY2xhc3MnKSwgJ3dlZWtUYWInKTtcblxuICAgICAgICB3aGlsZSAoZ2VuZXJhbExpc3QubGFzdEVsZW1lbnRDaGlsZCkgZ2VuZXJhbExpc3QucmVtb3ZlQ2hpbGQoZ2VuZXJhbExpc3QubGFzdEVsZW1lbnRDaGlsZCk7XG5cbiAgICAgICAgY29uc3Qgd2Vla2x5VGFza3MgPSBsaXN0LmZpbHRlcih0YXNrID0+IGlzVGhpc1dlZWsodG9EYXRlKHRhc2suZHVlZGF0ZSkpKTtcblxuICAgICAgICB3ZWVrbHlUYXNrcy5mb3JFYWNoKHRhc2sgPT4gZGlzcGxheUFsbFRhc2sodGFzaywgZ2VuZXJhbExpc3QpKTtcbiAgICB9XG5cbiAgICByZXR1cm4geyBkaXNwbGF5SW5ib3gsIGRpc3BsYXlEYWlseSwgZGlzcGxheVdlZWtseSwgZGlzcGxheUFsbFRhc2ssIHVwZGF0ZURpc3BsYXksIGdyYWJUYWIgfVxufSkoKVxuXG5jb25zdCByZW5kZXJQcm9qZWN0ID0gKCgpID0+IHtcbiAgICBmdW5jdGlvbiBkaXNwbGF5UHJvamVjdChwcm9qZWN0KSB7XG4gICAgICAgIGNvbnN0IHByb2plY3REaXNwbGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFsbC1wcm9qZWN0cycpO1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgICAgICBjb25zdCBwcm9qZWN0VGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgY29uc3QgcHJvamVjdFRhc2tCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgY29uc3QgcHJvamVjdERlbEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuXG4gICAgICAgIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKGBwcm9qZWN0LSR7cHJvamVjdC5pZH1gKTtcbiAgICAgICAgY29udGFpbmVyLnNldEF0dHJpYnV0ZSgnZGF0YS1wcm9qZWN0SWQnLCBgJHtwcm9qZWN0LmlkfWApO1xuICAgICAgICBwcm9qZWN0VGFza0J0bi5zZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvamVjdElkJywgYCR7cHJvamVjdC5pZH1gKTtcbiAgICAgICAgcHJvamVjdFRhc2tCdG4uc2V0QXR0cmlidXRlKCdpZCcsIGBwcm9qZWN0LSR7cHJvamVjdC5pZH1gKTtcblxuICAgICAgICBwcm9qZWN0VGl0bGUudGV4dENvbnRlbnQgPSBgJHtwcm9qZWN0LnRpdGxlfWA7XG4gICAgICAgIHByb2plY3RUYXNrQnRuLnRleHRDb250ZW50ID0gJysnO1xuICAgICAgICBwcm9qZWN0RGVsQnRuLnRleHRDb250ZW50ID0gJ2RlbGV0ZSc7XG5cbiAgICAgICAgY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBkaXNwbGF5UHJvamVjdFRhc2tzKHByb2plY3QuaWQpO1xuICAgICAgICB9KTtcblxuICAgICAgICBwcm9qZWN0VGFza0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ3Byb2plY3QgaWQnLCBwcm9qZWN0cy5ncmFiUHJvamVjdElkKGUpKTtcbiAgICAgICAgICAgIGNvbnN0IG5ld1Rhc2tGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21haW4tZm9ybScpO1xuXG4gICAgICAgICAgICBwcm9qZWN0cy5ncmFiUHJvamVjdElkKGUpO1xuICAgICAgICAgICAgbmV3VGFza0Zvcm0ucmVtb3ZlQXR0cmlidXRlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfSlcblxuICAgICAgICBwcm9qZWN0RGVsQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBpbml0RGVsUHJvakJ0bihwcm9qZWN0LmlkKTtcbiAgICAgICAgfSlcblxuICAgICAgICBjb250YWluZXIuYXBwZW5kKHByb2plY3RUaXRsZSwgcHJvamVjdFRhc2tCdG4sIHByb2plY3REZWxCdG4pO1xuICAgICAgICBwcm9qZWN0RGlzcGxheS5hcHBlbmRDaGlsZChjb250YWluZXIpO1xuXG4gICAgICAgIHJldHVybiBwcm9qZWN0RGlzcGxheVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluaXREZWxQcm9qQnRuKHByb2plY3RJZCkge1xuICAgICAgICBwcm9qZWN0cy5yZW1vdmVQcm9qZWN0KHByb2plY3RJZCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdkZWwgcHJvamVjdCcsIHByb2plY3RzLmdyYWJQcm9qZWN0TGlzdCgpKVxuXG4gICAgICAgIGxldCB1cGRhdGVkUHJvamVjdHMgPSBwcm9qZWN0cy5ncmFiUHJvamVjdExpc3QoKTtcbiAgICAgICAgbGV0IHRhc2tMaXN0ID0gQWRkdG9MaXN0LlRvZG9MaXN0O1xuICAgICAgICBsZXQgdXBkYXRlZFRhc2tMaXN0ID0gdGFza0xpc3QuZmlsdGVyKHRhc2sgPT4gdGFzay5wcm9qZWN0ID09PSBwcm9qZWN0SWQpO1xuICAgICAgICBjb25zb2xlLmxvZygndXBkYXRlZHByb2plY3RzJywgdXBkYXRlZFByb2plY3RzKVxuXG4gICAgICAgIHVwZGF0ZWRUYXNrTGlzdC5mb3JFYWNoKHRhc2sgPT4ge1xuICAgICAgICAgICAgbGV0IG5ld0xpc3QgPSBBZGR0b0xpc3QucmVtb3ZlVGFzayh0YXNrLmlkKTtcbiAgICAgICAgICAgIHByb2plY3RzLnVwZGF0ZUdlbmVyYWxMaXN0KG5ld0xpc3QpO1xuICAgICAgICB9KTtcblxuICAgICAgICBsZXQgcHJvamVjdHNEaXNwbGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFsbC1wcm9qZWN0cycpO1xuICAgICAgICB3aGlsZSAocHJvamVjdHNEaXNwbGF5Lmxhc3RFbGVtZW50Q2hpbGQpIHByb2plY3RzRGlzcGxheS5yZW1vdmVDaGlsZChwcm9qZWN0c0Rpc3BsYXkubGFzdEVsZW1lbnRDaGlsZCk7XG5cbiAgICAgICAgdXBkYXRlZFByb2plY3RzLmZvckVhY2gocHJvamVjdCA9PiB7XG4gICAgICAgICAgICBpZiAocHJvamVjdC5pZCA+IDApIGRpc3BsYXlQcm9qZWN0KHByb2plY3QpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAocGFyc2VJbnQocmVuZGVyVGFzay5ncmFiVGFiKHByb2plY3RJZCkpID09PSBwcm9qZWN0SWQpIHJlbmRlclRhc2suZGlzcGxheUluYm94KClcbiAgICAgICAgZWxzZSByZW5kZXJUYXNrLnVwZGF0ZURpc3BsYXkocHJvamVjdElkKTtcblxuICAgICAgICBzdG9yZUxvY2FsLnN0b3JlUHJvamVjdHMoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkaXNwbGF5UHJvamVjdFRhc2tzKGlkKSB7XG4gICAgICAgIGxldCBsaXN0ID0gcHJvamVjdHMucHJvamVjdExpc3Q7XG4gICAgICAgIGNvbnN0IGdlbmVyYWxMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2dlbmVyYWwnKTtcbiAgICAgICAgZ2VuZXJhbExpc3QuY2xhc3NMaXN0LnJlcGxhY2UoZ2VuZXJhbExpc3QuZ2V0QXR0cmlidXRlKCdjbGFzcycpLCBgJHtpZH1gKTtcblxuICAgICAgICB3aGlsZSAoZ2VuZXJhbExpc3QubGFzdEVsZW1lbnRDaGlsZCkgZ2VuZXJhbExpc3QucmVtb3ZlQ2hpbGQoZ2VuZXJhbExpc3QubGFzdEVsZW1lbnRDaGlsZCk7XG5cbiAgICAgICAgbGV0IHByb2plY3RUYXNrcyA9IHByb2plY3RzLmdyYWJDdXJyZW50UHJvamVjdFRhc2tzKGlkKTtcblxuICAgICAgICBwcm9qZWN0VGFza3MuZm9yRWFjaCh0YXNrID0+IHJlbmRlclRhc2suZGlzcGxheUFsbFRhc2sodGFzaywgZ2VuZXJhbExpc3QpKTtcbiAgICB9XG5cbiAgICByZXR1cm4geyBkaXNwbGF5UHJvamVjdCwgZGlzcGxheVByb2plY3RUYXNrcyB9XG59KSgpXG5cbmV4cG9ydCB7IHJlbmRlclRhc2ssIHJlbmRlclByb2plY3QgfSIsImltcG9ydCB7IEFkZHRvTGlzdCB9IGZyb20gXCIuL21hbmFnZUxpc3RcIjtcbmltcG9ydCB7IHJlbmRlclRhc2sgfSBmcm9tIFwiLi9VSVwiO1xuaW1wb3J0IHsgcHJvamVjdHMgfSBmcm9tIFwiLi9tYW5hZ2VQcm9qZWN0XCI7XG5pbXBvcnQgeyB0b0RhdGUsIGlzVGhpc1dlZWssIGlzVG9kYXkgfSBmcm9tIFwiZGF0ZS1mbnNcIjtcbmltcG9ydCB7IHN0b3JlTG9jYWwgfSBmcm9tIFwiLi9zdG9yYWdlXCI7XG5cblxuY29uc3QgY3JlYXRlVGFzayA9IChpZCwgdGl0bGUsIGRlc2NyaXB0aW9uLCBkdWVkYXRlLCBwcmlvcml0eSwgcHJvamVjdCkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAgIGlkLCB0aXRsZSwgZGVzY3JpcHRpb24sIGR1ZWRhdGUsIHByaW9yaXR5LCBwcm9qZWN0XG4gICAgfVxufVxuXG5jb25zdCBOZXdUYXNrID0gKCgpID0+IHtcblxuICAgIGxldCB0aXRsZTtcbiAgICBsZXQgZGVzY3JpcHRpb247XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVOZXdUYXNrKCkge1xuICAgICAgICBjb25zdCBwcm9qZWN0TGlzdCA9IHByb2plY3RzLmdyYWJQcm9qZWN0TGlzdCgpO1xuXG4gICAgICAgIHRpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpdGxlJykudmFsdWU7XG4gICAgICAgIGRlc2NyaXB0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rlc2NyaXB0aW9uJykudmFsdWU7XG5cbiAgICAgICAgbGV0IGR1ZWRhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGF0ZScpLnZhbHVlO1xuICAgICAgICBsZXQgcHJpb3JpdHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJpb3JpdHknKS52YWx1ZTtcbiAgICAgICAgbGV0IGlkID0gY3JlYXRlSWQoKTtcbiAgICAgICAgbGV0IHByb2plY3RJZCA9IHByb2plY3RzLmdyYWJDdXJyZW50UHJvamVjdCgpO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKGlzVGhpc1dlZWsodG9EYXRlKGR1ZWRhdGUpKSlcbiAgICAgICAgY29uc29sZS5sb2coaXNUb2RheSh0b0RhdGUoZHVlZGF0ZSkpKVxuXG4gICAgICAgIGlmICh0aXRsZSA9PT0gJycgfHxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uID09PSAnJyB8fFxuICAgICAgICAgICAgZHVlZGF0ZSA9PT0gJycpIHJldHVyblxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHRhc2sgPSBjcmVhdGVUYXNrKGlkLCB0aXRsZSwgZGVzY3JpcHRpb24sIGR1ZWRhdGUsIHByaW9yaXR5LCBwcm9qZWN0SWQpO1xuICAgICAgICAgICAgY29uc29sZS5sb2codGFzayk7XG5cbiAgICAgICAgICAgIGlmIChwcm9qZWN0SWQgPT09IDApIHtcbiAgICAgICAgICAgICAgICBwcm9qZWN0TGlzdFswXS50YXNrTGlzdC5wdXNoKHRhc2spO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHByb2plY3RMaXN0KVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHByb2plY3RMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHByb2plY3RMaXN0W2ldLmlkID09PSBwcm9qZWN0SWQpIHtcbiAgICAgICAgICAgICAgICAgICAgQWRkdG9MaXN0LmFkZFRvTGlzdCh0YXNrKTtcbiAgICAgICAgICAgICAgICAgICAgcHJvamVjdExpc3RbaV0udGFza0xpc3QucHVzaCh0YXNrKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocHJvamVjdExpc3QpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IFxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUlkKCkge1xuICAgICAgICBsZXQgbGlzdCA9IHByb2plY3RzLmdyYWJQcm9qZWN0TGlzdCgpWzBdLnRhc2tMaXN0O1xuICAgICAgICBsZXQgaWQ7XG5cbiAgICAgICAgaWYgKGxpc3QubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gaWQgPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGlkID0gbGlzdFtsaXN0Lmxlbmd0aC0xXS5pZCArIDE7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXNldCgpIHtcbiAgICAgICAgbGV0IHRpdGxlVmFsdWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGl0bGUnKTtcbiAgICAgICAgdGl0bGVWYWx1ZS52YWx1ZSA9ICcnO1xuICAgICAgICB0aXRsZSA9ICcnO1xuXG4gICAgICAgIGxldCBkZXNjcmlwdGlvblZhbHVlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rlc2NyaXB0aW9uJyk7XG4gICAgICAgIGRlc2NyaXB0aW9uVmFsdWUudmFsdWUgPSAnJztcbiAgICAgICAgZGVzY3JpcHRpb24gPSAnJztcblxuICAgICAgICBsZXQgZHVlZGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYXRlJyk7XG4gICAgICAgIGR1ZWRhdGUudmFsdWUgPSAnJztcblxuICAgICAgICBsZXQgcHJpb3JpdHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJpb3JpdHknKTtcbiAgICAgICAgcHJpb3JpdHkudmFsdWUgPSAnTG93JztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbml0U3VibWl0QnRuKCkge1xuICAgICAgICBjb25zdCBzdWJtaXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc3VibWl0Jyk7XG5cbiAgICAgICAgc3VibWl0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgICAgIHN1Ym1pdFRhc2soKTtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHN1Ym1pdFRhc2soKSB7XG4gICAgICAgIGNvbnN0IG5ld1Rhc2tGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21haW4tZm9ybScpO1xuICAgICAgICBjb25zdCBuZXdUYXNrQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI25ld1Rhc2snKTtcbiAgICAgICAgXG4gICAgICAgIGNyZWF0ZU5ld1Rhc2soKTtcbiAgICAgICAgc3RvcmVMb2NhbC5zdG9yZVByb2plY3RzKCk7XG5cbiAgICAgICAgaWYgKHRpdGxlID09PSAnJyB8fCBkZXNjcmlwdGlvbiA9PT0gJycpIHJldHVyblxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCB0YXNrTGlzdCA9IHByb2plY3RzLmdyYWJQcm9qZWN0TGlzdCgpWzBdLnRhc2tMaXN0XG4gICAgICAgICAgICBsZXQgcHJvamVjdElkID0gdGFza0xpc3RbdGFza0xpc3QubGVuZ3RoIC0gMV0ucHJvamVjdDsgXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJlbmRlclRhc2sudXBkYXRlRGlzcGxheShwcm9qZWN0SWQpO1xuICAgICAgICAgICAgcmVzZXQoKTtcbiAgICAgICAgICAgIG5ld1Rhc2tGb3JtLnNldEF0dHJpYnV0ZSgnaGlkZGVuJywgJycpO1xuICAgICAgICAgICAgbmV3VGFza0J0bi5yZW1vdmVBdHRyaWJ1dGUoJ2hpZGRlbicpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2FuY2VsVGFzaygpIHtcbiAgICAgICAgY29uc3QgY2FuY2VsQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NhbmNlbCcpO1xuICAgICAgICBjb25zdCBuZXdUYXNrRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtYWluLWZvcm0nKTtcbiAgICAgICAgY29uc3QgbmV3VGFza0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNuZXdUYXNrJyk7XG5cbiAgICAgICAgY2FuY2VsQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgICAgIHJlc2V0KCk7XG4gICAgICAgICAgICBuZXdUYXNrRm9ybS5zZXRBdHRyaWJ1dGUoJ2hpZGRlbicsICcnKTtcbiAgICAgICAgICAgIG5ld1Rhc2tCdG4ucmVtb3ZlQXR0cmlidXRlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvcGVuVGFza0NyZWF0b3IoKSB7XG4gICAgICAgIGNvbnN0IG5ld1Rhc2tCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbmV3VGFzaycpO1xuICAgICAgICBjb25zdCBuZXdUYXNrRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtYWluLWZvcm0nKTtcblxuICAgICAgICBuZXdUYXNrQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgICAgIHByb2plY3RzLmdyYWJQcm9qZWN0SWQoZSk7XG4gICAgICAgICAgICBuZXdUYXNrRm9ybS5yZW1vdmVBdHRyaWJ1dGUoJ2hpZGRlbicpO1xuICAgICAgICAgICAgbmV3VGFza0J0bi5zZXRBdHRyaWJ1dGUoJ2hpZGRlbicsICcnKTtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICByZXR1cm4geyBjcmVhdGVOZXdUYXNrLCBpbml0U3VibWl0QnRuLCBjYW5jZWxUYXNrLCBvcGVuVGFza0NyZWF0b3IgfVxufSkoKTtcblxuZXhwb3J0IHsgTmV3VGFzayB9XG4iLCJpbXBvcnQgeyBOZXdUYXNrIH0gZnJvbSBcIi4vbWFuYWdlVGFzay5qc1wiO1xuaW1wb3J0IHsgcHJvamVjdHMgfSBmcm9tIFwiLi9tYW5hZ2VQcm9qZWN0LmpzXCI7XG5pbXBvcnQgeyByZW5kZXJUYXNrIH0gZnJvbSBcIi4vVUkuanNcIjtcbmltcG9ydCB7IHN0b3JlTG9jYWwgfSBmcm9tIFwiLi9zdG9yYWdlLmpzXCI7XG5cbk5ld1Rhc2suaW5pdFN1Ym1pdEJ0bigpO1xuTmV3VGFzay5jYW5jZWxUYXNrKCk7XG5OZXdUYXNrLm9wZW5UYXNrQ3JlYXRvcigpO1xuXG5wcm9qZWN0cy5zdWJtaXRQcm9qZWN0KCk7XG5cbmNvbnN0IHRvZGF5VGFiID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RvZGF5Jyk7XG5jb25zdCB3ZWVrVGFiID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3dlZWtseScpO1xuY29uc3QgaW5ib3hUYWIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaW5ib3gnKTtcblxudG9kYXlUYWIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLHJlbmRlclRhc2suZGlzcGxheURhaWx5KTtcbndlZWtUYWIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCByZW5kZXJUYXNrLmRpc3BsYXlXZWVrbHkpO1xuaW5ib3hUYWIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCByZW5kZXJUYXNrLmRpc3BsYXlJbmJveCk7XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBzdG9yZUxvY2FsLmxvYWRTdG9yYWdlKTsiXSwibmFtZXMiOlsiQWRkdG9MaXN0IiwiVG9kb0xpc3QiLCJhZGRUb0xpc3QiLCJ0YXNrIiwicHVzaCIsImNvbnNvbGUiLCJsb2ciLCJyZW1vdmVUYXNrIiwiaWQiLCJmaWx0ZXIiLCJzdG9yZUxvY2FsIiwicHJvamVjdExpc3QiLCJwcm9qZWN0cyIsImdyYWJQcm9qZWN0TGlzdCIsIml0ZW0iLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiSlNPTiIsInN0cmluZ2lmeSIsInBhcnNlIiwiZ2V0SXRlbSIsIm5ld0xpc3QiLCJ0YXNrTGlzdCIsImZvckVhY2giLCJyZW5kZXJUYXNrIiwidXBkYXRlRGlzcGxheSIsInByb2plY3QiLCJhZGRUb1Byb2plY3RMaXN0IiwicmVuZGVyUHJvamVjdCIsImRpc3BsYXlQcm9qZWN0IiwibmV3UHJvamVjdCIsInRpdGxlIiwicHJvamVjdFRpdGxlIiwiZ2VuZXJhbExpc3QiLCJjdXJyZW50UHJvamVjdCIsInN1Ym1pdFByb2plY3QiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInByZXZlbnREZWZhdWx0IiwidmFsdWUiLCJwcm9qZWN0SWQiLCJsZW5ndGgiLCJjcmVhdGVQcm9qZWN0IiwiZ3JhYlByb2plY3RJZCIsInBhcnNlSW50IiwidGFyZ2V0IiwiZ2V0QXR0cmlidXRlIiwiZ3JhYkN1cnJlbnRQcm9qZWN0IiwidXBkYXRlR2VuZXJhbExpc3QiLCJ1cGRhdGVQcm9qZWN0IiwidXBkYXRlIiwiZ3JhYkN1cnJlbnRQcm9qZWN0VGFza3MiLCJyZW1vdmVQcm9qZWN0IiwidG9EYXRlIiwiYXJndW1lbnQiLCJhcmdTdHIiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJ0b1N0cmluZyIsImNhbGwiLCJEYXRlIiwiY29uc3RydWN0b3IiLCJOYU4iLCJzdGFydE9mRGF5IiwiZGF0ZSIsIl9kYXRlIiwic2V0SG91cnMiLCJpc1RvZGF5IiwiZGF0ZUxlZnQiLCJkYXRlUmlnaHQiLCJub3ciLCJkZWZhdWx0T3B0aW9ucyIsImdldERlZmF1bHRPcHRpb25zIiwic3RhcnRPZldlZWsiLCJvcHRpb25zIiwid2Vla1N0YXJ0c09uIiwibG9jYWxlIiwiZGF5IiwiZ2V0RGF5IiwiZGlmZiIsInNldERhdGUiLCJnZXREYXRlIiwiaXNUaGlzV2VlayIsImlzU2FtZVdlZWsiLCJkaXNwbGF5QWxsVGFzayIsIml0ZW1zIiwiZGlzcGxheSIsImNvbnRhaW5lciIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJjbGFzc0xpc3QiLCJhZGQiLCJkdWVkYXRlIiwiZGVzY3JpcHRpb24iLCJwcmlvcml0eSIsImRlbGV0ZUJ0biIsInRleHRDb250ZW50IiwiQWxsdGFzayIsImxhc3RFbGVtZW50Q2hpbGQiLCJyZW1vdmVDaGlsZCIsImluaXREZWxCdG4iLCJhcHBlbmQiLCJhcHBlbmRDaGlsZCIsImdyYWJUYWIiLCJ0YWIiLCJkaXNwbGF5SW5ib3giLCJkaXNwbGF5RGFpbHkiLCJkaXNwbGF5V2Vla2x5IiwiZGlzcGxheVByb2plY3RUYXNrcyIsImxpc3QiLCJyZXBsYWNlIiwicHJvamVjdERpc3BsYXkiLCJwcm9qZWN0VGFza0J0biIsInByb2plY3REZWxCdG4iLCJzdG9wUHJvcGFnYXRpb24iLCJuZXdUYXNrRm9ybSIsInJlbW92ZUF0dHJpYnV0ZSIsInVwZGF0ZWRQcm9qZWN0cyIsInVwZGF0ZWRUYXNrTGlzdCIsInByb2plY3RzRGlzcGxheSIsImluaXREZWxQcm9qQnRuIiwiTmV3VGFzayIsImNyZWF0ZU5ld1Rhc2siLCJnZXRFbGVtZW50QnlJZCIsImNyZWF0ZUlkIiwiY3JlYXRlVGFzayIsImkiLCJyZXNldCIsImluaXRTdWJtaXRCdG4iLCJuZXdUYXNrQnRuIiwic3VibWl0VGFzayIsImNhbmNlbFRhc2siLCJjYW5jZWxCdG4iLCJvcGVuVGFza0NyZWF0b3IiLCJ0b2RheVRhYiIsIndlZWtUYWIiLCJpbmJveFRhYiJdLCJzb3VyY2VSb290IjoiIn0=